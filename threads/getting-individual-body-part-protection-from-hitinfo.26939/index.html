<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Solved - Getting individual body part protection from HitInfo?</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Solved - Getting individual body part protection from HitInfo?" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/">Getting individual body part
            protection from HitInfo?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">rotten</a>, <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/"><span class="DateTime"
                title="Aug 24, 2017 at 2:54 AM">Aug 24, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-346570" class="message" data-author="rotten">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="rotten" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">rotten</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;d like to add Reactive Target dink sound to players who get killed with a headshot while wearing a metal
                        helmet. I know we can get the entity&#039;s base protection, but the value you get is dependent on what the player is wearing all over, not only on the bodypart that&#039;s
                        getting hit.<br />
                        <br /> Is there a way? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">rotten</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Aug 24, 2017 at 2:54 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346570/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346573" class="message" data-author="redBDGR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="redBDGR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">redBDGR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> In HitInfo i believe there is a variable called something like IsHeadshot, might want to use that (nvm,
                        didn&#039;t read the question properly) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Aug 24, 2017 at 3:25 AM">Aug 24, 2017</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">redBDGR</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346573" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 3:04 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346573" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346573/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346574" class="message" data-author="rotten">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="rotten" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">rotten</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="redBDGR">
                            <aside>
                                <div class="attribution type">redBDGR said: <a href="#post-346573" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">In HitInfo i believe there is a variable called something like IsHeadshot, might want to use that</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Yes - that&#039;s not a problem. The issue lies with finding out what helmet the player is wearing. I&#039;d like to avoid checking strings if possible, since that can be
                        taxing on the server if done too often. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">rotten</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346574" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 3:09 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346574" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346574/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346576" class="message" data-author="Ryan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Ryan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Ryan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="rotten">
                            <aside>
                                <div class="attribution type">rotten said: <a href="#post-346574" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Yes - that&#039;s not a problem. The issue lies with finding out what helmet the player is wearing. I&#039;d like to avoid checking strings if
                                        possible, since that can be taxing on the server if done too often.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>First thought of mind is checking the items in the players containerWear. I’m sure a .Contains or .Equals would make hardly a difference to server perf there. I’d presume
                        something like that takes nanoseconds.<br />
                        <br /> Besides, you should ideally focus on performance last. Tweaking code as you find there’s an issue. Working around things that you’re not even sure would make a
                        difference would most likely cause more issues in the future than it would by avoiding it now. At least from my experience anyway. Don’t get paranoid on what is laggy and
                        what’s not. If you’re really uncertain add some debug timers. Spawn loads of player models and shoot them all within like 5 seconds. <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346576" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 3:20 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346576" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346576/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346577" class="message" data-author="DylanSMR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="DylanSMR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">DylanSMR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;m pretty sure you can check the players inventory slots. With that you could do something like:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>public bool IsWearingHelmet(BasePlayer player) =&gt; (player.inventory.containerWear.GetSlot(3).amount == 0) ? false : true;</pre>
                        </div>If your wanting to check for individual helmets I assume you would have to check the id of the helmet. For example:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>        public int HelmetType(BasePlayer player)
        {
            if (player.inventory.containerWear.GetSlot(3).amount == 0) return 0; //Return 0 meaning no helmet.
            List&lt;int&gt; armored = new List&lt;int&gt;()
            {
                999,
                1000,
                1001,
            };
            if (armored.Contains(player.inventory.containerWear.GetSlot(3).info.itemid)) return 1; //This will check if his/her helmet is armored, if so return 1 meaning  it is armored.
            else return 2; //Return 2, meaning not armored. The armored list will contains things like facemasks.
        }</pre>
                        </div>Going on what <a href="https://oxidemod.org/members/133300/" class="username" data-user="133300, @Ryan">@Ryan</a> said with the containerWear. Could be tweaked for
                        performance. I wrote this real quick.<br /> Also, itemSlot 3 might not be right. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">DylanSMR</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346577" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 3:20 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346577" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346577/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346579" class="message" data-author="Ryan">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Ryan" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Ryan</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="DylanSMR">
                            <aside>
                                <div class="attribution type">DylanSMR said: <a href="#post-346577" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I&#039;m pretty sure you can check the players inventory slots. With that you could do something like:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            <pre>public bool IsWearingHelmet(BasePlayer player) =&gt; (player.inventory.containerWear.GetSlot(3).amount == 0) ? false : true;</pre>
                                        </div>If your wanting to check for individual helmets I assume you would have to check the id of the helmet. For example:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            <pre>        public int HelmetType(BasePlayer player)
        {
            if (player.inventory.containerWear.GetSlot(3).amount == 0) return 0; //Return 0 meaning no helmet.
            List&lt;int&gt; armored = new List&lt;int&gt;()
            {
                999,
                1000,
                1001,
            };
            if (armored.Contains(player.inventory.containerWear.GetSlot(3).info.itemid)) return 1; //This will check if his/her helmet is armored, if so return 1 meaning  it is armored.
            else return 2; //Return 2, meaning not armored. The armored list will contains things like facemasks.
        }</pre>
                                        </div>Going on what <a href="https://oxidemod.org/members/133300/" class="username" data-user="133300, @Ryan">@Ryan</a> said with the containerWear. Could be
                                        tweaked for performance. I wrote this real quick.<br /> Also, itemSlot 3 might not be right.
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Yea, the helmet can be in any of the slots unless modified differently via the plugin which is also not a bad possibility / solution. <div class="messageTextEndMarker">
                            &nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346579" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 3:23 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346579" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346579/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-346583" class="message" data-author="rotten">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="rotten" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">rotten</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Thanks for the info, everyone!<br /> [DOUBLEPOST=1503544630][/DOUBLEPOST]Upon looking further into it, I&#039;ve
                        found that you can get the damage multiplier by doing the following:<br />
                        <br /> info.damageProperties.GetMultiplier(info.boneArea)<br />
                        <br /> EDIT: God damn it. I&#039;m very wrong. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Aug 24, 2017 at 4:19 AM">Aug 24, 2017</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">rotten</a>,</span>
                        <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346583" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Aug 24, 2017 at 4:11 AM">Aug 24, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/getting-individual-body-part-protection-from-hitinfo.26939/#post-346583" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/346583/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
</ol>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
