<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	
		<base href="https://oxidemod.org/" />
		<script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
	

	<title>Temp variables for players? | Oxide</title>
	
	<noscript><style>.JsOnly, .jsOnly { display: none !important; }</style></noscript>
	<link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548698830" />
	<link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548698830" />
	
	

	
		<script src="js/jquery/jquery-1.11.0.min.js"></script>	
		
	<script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<meta name="mobile-web-app-capable" content="yes" />
<link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
<link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
	<link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
		
	
	<link rel="canonical" href="https://oxidemod.org/threads/temp-variables-for-players.14662/" />
	<meta name="description" content="I want to make a variable that's created when player connected and removed when dissconected for each player :S Any idea?

        void..." />	<meta property="og:site_name" content="Oxide" />
	<meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
	<meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://oxidemod.org/threads/temp-variables-for-players.14662/" />
	<meta property="og:title" content="Temp variables for players?" />
	<meta property="og:description" content="I want to make a variable that's created when player connected and removed when dissconected for each player :S Any idea?

        void..." />
	
	
	

</head>

<body class="node4 node1 node104 node105 SelectQuotable">




<div id="headerMover">
	<div id="headerProxy"></div>

<div id="content" class="thread_view">
	<div class="pageWidth">
		<div class="pageContent">
			
			
			

			

			
			
				<div class="breadBoxTop ">
					
					

<nav>
	
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	

	<fieldset class="breadcrumb">			
		<div class="boardTitle"><strong>Oxide</strong></div>
		
		<span class="crumbs">
			
				

					
						<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
							<span class="arrow"><span>&gt;</span></span>
						</span>
					

					
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
					
				
			
		</span>
	</fieldset>
</nav>
				</div>
			
			
	
			



			
				

						
			
			
			
						
						
													
								<!-- h1 title, description -->
								<div class="titleBar">
									
									<h1>
										
											
												<a href="https://oxidemod.org/threads/temp-variables-for-players.14662/">Temp variables for players?</a>
											
										
									</h1>

									<p id="pageDescription" class="muted ">
	Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">TheMechanical97</a>, <a href="threads/temp-variables-for-players.14662/"><span class="DateTime" title="Jan 15, 2016 at 8:05 PM">Jan 15, 2016</span></a>.
</p>
								</div>
							
						
						
						
						

						

	

























	




<div class="pageNavLinkGroup">
	<div class="linkGroup SelectionCountContainer">
		
		
	</div>

	
</div>






<form action="inline-mod/post/switch" method="post"
	class="InlineModForm section"
	data-cookieName="posts"
	data-controls="#InlineModControls"
	data-imodOptions="#ModerationSelect option">

	<ol class="messageList" id="messageList">
		
			
				


<li id="post-164179" class="message   " data-author="TheMechanical97">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheMechanical97" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">TheMechanical97</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I want to make a variable that&#039;s created when player connected and removed when dissconected for each player :S Any idea?<br />
<br />
        void OnPlayerInit(BasePlayer player)<br />
        {    <br />
           int variable;<br />
        }
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
					<a href="threads/temp-variables-for-players.14662/" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 15, 2016 at 8:05 PM">Jan 15, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/164179/permalink">#1</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-164186" class="message  staff " data-author="Wulf">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto" itemprop="name">Wulf</a>
			<em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					You could try player.myVariable = whatever, then make it null when disconnecting. You could also use a C# hashset or dictionary.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-164186" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 15, 2016 at 8:13 PM">Jan 15, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-164186" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/164186/permalink">#2</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-164188" class="message   " data-author="TheMechanical97">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheMechanical97" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">TheMechanical97</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					player.MyVariable would make the variable for each player?<br />
[DOUBLEPOST=1452888923][/DOUBLEPOST]I dont mind rmoving it when dissconnected<br />
Just I need a variable for each player<br />
[DOUBLEPOST=1452889074][/DOUBLEPOST]So i need to create one when first connected or even everytime player connects (Exodus plugin does something like that)
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-164188" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 15, 2016 at 8:14 PM">Jan 15, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-164188" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/164188/permalink">#3</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-164377" class="message   " data-author="AlienX">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="AlienX" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">AlienX</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Hey,<br />
I whipped up this class in Visual Studio for you, it&#039;s totally untested but it should work.<br />
If i recall, you&#039;re the chap that is learning C# for Rust Plugins? - so instead of using the variable on the player object, this way you can learn how to achieve the same result yourself with a solution that is tailored for you.<br />
<br />
The below code allows for multiple variables to be stored against the player, not just one.<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>

       private PlayerVariables _playerVariables = new PlayerVariables();
       private class PlayerVariables
        {
            //Create a sub-class to store the variables in a useful manner
            private class Variable
            {
                public ulong playerID;
                public string Name;
                public string Value;
            }

            //Create a list object to store our data
            private readonly List&lt;Variable&gt; _variables = new List&lt;Variable&gt;();

            //Adds a new variable to the data store, so it can be returned later.
            public void Add(BasePlayer player, string name, string value)
            {
                var _existCheck = GetVariableFromNameAndID(name, player.userID);
                if (_existCheck != null)
                {
                    _existCheck.Value = value;
                    return;
                }

                _variables.Add(new Variable()
                {
                    playerID = player.userID,
                    Name = name,
                    Value = value
                });
            }


            //Deletes a variable for a player, by it's name
            public void Delete(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                if (_variable == null) return;

                _variables.Remove(_variable);
            }


            //Reads a variable for a player, by it's name
            public string Read(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                return _variable?.Value;
            }

            //Helper method, finds the userid in the list, and the variable by it's name
            //Returns it, otehrwise returns null.
            private Variable GetVariableFromNameAndID(string name, ulong id)
            {
                return _variables.Where(x =&gt; x.playerID == id).DefaultIfEmpty(null).FirstOrDefault(x =&gt; x.Name == name);
            }
        }
</pre>
</div>Usage:<br />
<ol>
<li>Paste the code somewhere into your class.</li>
<li>Now, you can use:</li>
<li>

<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre> _playerVariables.Add(player, &quot;deaths&quot;, &quot;10&quot;);</pre>
</div>to for example store the variable named &quot;deaths&quot; for player, with a value of 10.</li>
</ol>To get the variable back simply:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
var _deathTotal = _playerVariables.Read(player, &quot;deaths&quot;);
player.ChatMessage($&quot;You have died {_deathTotal} times!&quot;);
</pre>
</div><i>Note: You dont need the extra variable &#039;_deathTotal&#039; here, but as i think you said in a previous post you were new to this stuff, i would put it there as it&#039;s easier to understand - the &#039;_playerVariables.Read(player, &quot;deaths&quot;)&#039; could just go inside the chat message string in place of the _deathTotal variable.</i><br />
<br />
To delete the variable, use:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
_playerVariables.Delete(player, &quot;deaths&quot;);
</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
			<div class="editDate">
			
				Last edited by a moderator: <span class="DateTime" title="Jan 17, 2016 at 12:33 AM">Jan 17, 2016</span>
			
			</div>
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-164377" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 16, 2016 at 3:19 AM">Jan 16, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-164377" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/164377/permalink">#4</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-165303" class="message   " data-author="TheMechanical97">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheMechanical97" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">TheMechanical97</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I have this code:<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
        private int wood;
        void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            var _player = entity as BasePlayer;
            foreach (var _player in BasePlayer.activePlayerList)
            {
                if (_player == null) return;

                switch (dispenser.gatherType)
                {
                    case ResourceDispenser.GatherType.Tree:
                        if (!permission.UserHasPermission(_player.UserIDString, &quot;stats.register&quot;)) return;
                        if (wood == null) wood = 0;
                        {
                            wood = wood + 1;
                            SendReply(_player, wood.ToString()); (DEBUG)
                            if (wood == 10000)
                            {
                                SendReply(_player, &quot;TEST MESSAGE&quot;);
                                return;
                            }
                            return;
                        }
                        return;
                        break;
           }
     }
}
</pre>
</div>And wood variable is used by all players so i want that to register global stats (Not this code, similar one) but i need to register single stats aswell :S<br />
[DOUBLEPOST=1453133452][/DOUBLEPOST]I want the wood var to be temporal so playaer can see how many wood they gathered while online in that game, once dissconnected, the variable gets destroyed for that player and when connecter, created, I might do this with dinamic arrays but dk how :S
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
			<div class="editDate">
			
				Last edited by a moderator: <span class="DateTime" title="Jan 18, 2016 at 4:16 PM">Jan 18, 2016</span>
			
			</div>
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-165303" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 18, 2016 at 4:08 PM">Jan 18, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-165303" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/165303/permalink">#5</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-164399" class="message   " data-author="TheMechanical97">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheMechanical97" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">TheMechanical97</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="AlienX">
	<aside>
		
			<div class="attribution type">AlienX said:
				
					<a href="goto/post?id=164377#post-164377" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Hey,<br />
I whipped up this class in Visual Studio for you, it&#039;s totally untested but it should work.<br />
If i recall, you&#039;re the chap that is learning C# for Rust Plugins? - so instead of using the variable on the player object, this way you can learn how to achieve the same result yourself with a solution that is tailored for you.<br />
<br />
The below code allows for multiple variables to be stored against the player, not just one.<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>

       private PlayerVariables _playerVariables = new PlayerVariables();
       private class PlayerVariables
        {
            //Create a sub-class to store the variables in a useful manner
            private class Variable
            {
                public ulong playerID;
                public string Name;
                public string Value;
            }

            //Create a list object to store our data
            private readonly List&lt;Variable&gt; _variables = new List&lt;Variable&gt;();

            //Adds a new variable to the data store, so it can be returned later.
            public void Add(BasePlayer player, string name, string value)
            {
                var _existCheck = GetVariableFromNameAndID(name, player.userID);
                if (_existCheck != null)
                {
                    _existCheck.Value = value;
                    return;
                }

                _variables.Add(new Variable()
                {
                    playerID = player.userID,
                    Name = name,
                    Value = value
                });
            }


            //Deletes a variable for a player, by it's name
            public void Delete(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                if (_variable == null) return;

                _variables.Remove(_variable);
            }


            //Reads a variable for a player, by it's name
            public string Read(BasePlayer player, string name)
            {
                var _variable = GetVariableFromNameAndID(name, player.userID);
                return _variable?.Value;
            }

            //Helper method, finds the userid in the list, and the variable by it's name
            //Returns it, otehrwise returns null.
            private Variable GetVariableFromNameAndID(string name, ulong id)
            {
                return _variables.Where(x =&gt; x.playerID == id).DefaultIfEmpty(null).FirstOrDefault(x =&gt; x.Name == name);
            }
        }
</pre>
</div>Usage:<br />
<ol>
<li>Paste the code somewhere into your class.</li>
<li>Now, you can use:</li>
<li>

<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre> _playerVariables.Add(player, &quot;deaths&quot;, &quot;10&quot;);</pre>
</div>to for example store the variable named &quot;deaths&quot; for player, with a value of 10.</li>
</ol>To get the variable back simply:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
var _deathTotal = _playerVariables.Read(player, &quot;deaths&quot;)
player.ChatMessage($&quot;You have died {_deathTotal} times!&quot;);
</pre>
</div><i>Note: You dont need the extra variable &#039;_deathTotal&#039; here, but as i think you said in a previous post you were new to this stuff, i would put it there as it&#039;s easier to understand - the &#039;_playerVariables.Read(player, &quot;deaths&quot;)&#039; could just go inside the chat message string in place of the _deathTotal variable.</i><br />
<br />
To delete the variable, use:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
_playerVariables.Delete(player, &quot;deaths&quot;);
</pre>
</div></div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Oh wow... I really appreciate it dude. So much thanks! I&#039;ll try tomorrow and hopefully i can get my H1Z1 Plugin for Rust Finished  <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie8" alt=":D" title="Big Grin    :D" /><br />
[DOUBLEPOST=1453134782,1452918637][/DOUBLEPOST]&quot;To store with value &quot;10&quot;, I want this variable to increase, so i need to put <br />
<br />
 _playerVariables.Add(player, &quot;deaths&quot;, &quot;1&quot;);<br />
<br />
everytime i want the variable to increase by 1?
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-164399" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 18, 2016 at 4:33 PM">Jan 18, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-164399" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/164399/permalink">#6</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-165325" class="message   " data-author="AlienX">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="AlienX" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">AlienX</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					No, you will need to read it first, then add it on, and set it again.<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
var _playerVar = Convert.toInt32(_playerVariables.Read(player, &quot;deaths&quot;));
_playerVariables.Add(player, &quot;deaths&quot;, _playerVar++.ToString());
</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">AlienX</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-165325" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 18, 2016 at 4:59 PM">Jan 18, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-165325" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/165325/permalink">#7</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-165360" class="message   " data-author="TheMechanical97">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheMechanical97" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">TheMechanical97</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					So how can i create the veriable on player connect?<br />
<br />
void OnPlayerInit(BasePlayer player)<br />
}<br />
     _playerVariables.Add(player, &quot;variable&quot;, 0);<br />
}<br />
<br />
?<br />
[DOUBLEPOST=1453145243][/DOUBLEPOST]`System.Collections.Generic.List&lt;Oxide.Plugins.Jobs.PlayerVariables.Variable&gt;&#039; does not contain a definition for `where&#039; and no extension method `where&#039; of type `System.Collections.Generic.List&lt;Oxide.Plugins.Jobs.PlayerVariables.Variable&gt;&#039; could be found. Are you missing an assembly reference?<br />
[DOUBLEPOST=1453145633][/DOUBLEPOST]Okay I added using System.Linq;<br />
[DOUBLEPOST=1453148686][/DOUBLEPOST]seems not working <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie3" alt=":(" title="Frown    :(" /><br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre> void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            var _player = entity as BasePlayer;
            if (_player == null) return;

            switch (dispenser.gatherType)
            {
                case ResourceDispenser.GatherType.Tree:
                    if (!permission.UserHasPermission(_player.UserIDString, &quot;randomperm&quot;)) return;
                    int myvar= Convert.ToInt32(_playerVariables.Read(_player, &quot;var&quot;));
                    SendReply(_player, myvar.ToString());
                    _playerVariables.Add(_player, &quot;var&quot;, (myvar+ 1));
                    SendReply(_player, myvar.ToString());
                    if (myvar == 10)
                    {
                        SendReply(_player, &quot;TEST&quot;);
                        _playerVariables.Add(_player, &quot;var&quot;, 0);
                        return;
                    }
                    break;
            }
        }</pre>
</div>[DOUBLEPOST=1453148739][/DOUBLEPOST]

<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>void OnPlayerRespawned(BasePlayer player)
        {
            _playerVariables.Add(player, &quot;var&quot;, 0);
        }

        void OnPlayerDisconnected(BasePlayer player, string reason)
        {
            _playerVariables.Delete(player, &quot;var&quot;);
        }
        void OnPlayerInit(BasePlayer player)
        {
            _playerVariables.Add(player, &quot;var&quot;, 0);
        }</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">TheMechanical97</a>,</span>
					<a href="threads/temp-variables-for-players.14662/#post-165360" title="Permalink" class="datePermalink"><span class="DateTime" title="Jan 18, 2016 at 6:37 PM">Jan 18, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/temp-variables-for-players.14662/#post-165360" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/165360/permalink">#8</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
		
	</ol>

	

	

</form>


	<div class="pageNavLinkGroup">
		
			
				<div class="linkGroup">
					
				</div>
			
			<div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>

			
		
	</div>












	


												
												
					
			
						
			
						
			


			<footer>
				


<div class="footer">
		<div class="pageContent">
			
            
            
            </div>
			
		
			
			
			<span class="helper"></span>
			<ul class="footerLinks">
			
				
				<li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
				
				
				<li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
			
			</ul>
			
			<span class="helper"></span>
		</div>
</div>

			</footer>
		</div>
	</div>
</div>

<header>
	


<div id="header">
	<div class="headerWidth">
		<div id="logoBlock">
			
			
			<div id="logo"><a href="https://oxidemod.org/">
				<span></span>
				<img src="styles/oxide/logo.png" alt="Oxide" />
			</a></div>
			
			
			<span class="helper"></span>

</div>
		


<div id="navigation" class="">
	<div class="pageContent">
		<nav>
			<div class="navTabs">
				<ul class="publicTabs">

					
					

					
					

					
					
						<li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
							<a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>

							
						</li>
					

					<li class="navTab PopupClosed">
	<a href="https://umod.org/documentation" class="navLink">Docs</a>
</li>


					
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>

							
						</li>
						
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>

							
						</li>
						
					
					

					
					

					
					

					
					<li class="navTab selected"><div class="tabLinks"></div></li>
				</ul>

				
				
			</div>

			<span class="helper"></span>
		</nav>
	</div>
</div>
	</div>
</div>

	
	
</header>

</div>

<script>


jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1548801762,
		today: 1548720000,
		todayDow: 2
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(255, 255, 255)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"thread_view":true,"message":true,"bb_code":true,"message_user_info":true},
	_cookieConfig: { path: "/", domain: ".oxidemod.org", prefix: "ih_xfid_"},
	_csrfToken: "",
	_csrfRefreshUrl: "login/csrf-token-refresh",
	_jsVersion: "f33b43a2"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});




</script>




</body>
</html>