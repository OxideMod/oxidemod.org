<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	
		<meta name="viewport" content="width=device-width, initial-scale=1">
	
	
		<!--<base href="https://oxidemod.org/">-->
		<script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
	

	<title>[TUTORIAL] Execute Actions from WebRequest [LUA/PHP] | Oxide</title>
	
	<noscript><style>.JsOnly, .jsOnly { display: none !important; }</style></noscript>
	<link rel="stylesheet" href="..\..\css-77.css?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548698830">
	<link rel="stylesheet" href="..\..\css-89.css?css=attached_files,bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548698830">
	
	

	
		<script src="..\..\js\jquery\jquery-1.11.0.min-2.js"></script>	
		
	<script src="..\..\js\xenforo\xenforo-2.js?_v=f33b43a2"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="196x196" href="..\..\styles\oxide\logo.og-2.png">
<link rel="apple-touch-icon" href="..\..\styles\oxide\logo.og-2.png">
	<link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="..\..\forums\-\index.xml">
		
	
	<link rel="canonical" href="index-3.html">
	<meta name="description" content="What exactly does this mean?

I'm going to teach you how you can create simple php scripts and plugins that allow you to do some pretty cool stuff....">	<meta property="og:site_name" content="Oxide">
	<meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png">
	<meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png">
	<meta property="og:type" content="article">
	<meta property="og:url" content="https://oxidemod.org/threads/tutorial-execute-actions-from-webrequest-lua-php.10209/">
	<meta property="og:title" content="[TUTORIAL] Execute Actions from WebRequest [LUA/PHP]">
	<meta property="og:description" content="What exactly does this mean?

I'm going to teach you how you can create simple php scripts and plugins that allow you to do some pretty cool stuff....">
	
	
	

</head>

<body class="node4 node1 node104 node105 SelectQuotable">




<div id="headerMover">
	<div id="headerProxy"></div>

<div id="content" class="thread_view">
	<div class="pageWidth">
		<div class="pageContent">
			
			
			

			

			
			
				<div class="breadBoxTop ">
					
					

<nav>
	
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	

	<fieldset class="breadcrumb">			
		<div class="boardTitle"><strong>Oxide</strong></div>
		
		<span class="crumbs">
			
				

					
						<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="..\..\index-4.html" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
							<span class="arrow"><span>&gt;</span></span>
						</span>
					

					
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="..\..\index-4.html#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="..\..\categories\archive.104\index-2.html" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="..\..\categories\plugin-development.105\index-2.html" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="..\..\forums\rust-development.4\index-166.html" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
					
				
			
		</span>
	</fieldset>
</nav>
				</div>
			
			
	
			



			
				

						
			
			
			
						
						
													
								<!-- h1 title, description -->
								<div class="titleBar">
									
									<h1>
										
											
												<a href="index-3.html">[TUTORIAL] Execute Actions from WebRequest [LUA/PHP]</a>
											
										
									</h1>

									<p id="pageDescription" class="muted ">
	Discussion in '<a href="..\..\forums\rust-development.4\index-166.html">Rust Development</a>' started by <a class="username" dir="auto">Norn</a>, <a href="index-3.html"><span class="DateTime" title="Jul 14, 2015 at 10:22 PM">Jul 14, 2015</span></a>.
</p>
								</div>
							
						
						
						
						

						

	

























	




<div class="pageNavLinkGroup">
	<div class="linkGroup SelectionCountContainer">
		
		
	</div>

	
</div>






<form action="inline-mod/post/switch" method="post" class="InlineModForm section" data-cookiename="posts" data-controls="#InlineModControls" data-imodoptions="#ModerationSelect option">

	<ol class="messageList" id="messageList">
		
			
				


<li id="post-108181" class="message   " data-author="Norn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Norn"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Norn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<b>What exactly does this mean?<br>
</b><br>
I&#039;m going to teach you how you can create simple php scripts and plugins that allow you to do some pretty cool stuff.<br>
<br>
<b>What&#039;s useful about that?<br>
</b><br>
Well for example you can do stuff like give players items, teleport them, do whatever essentially directly from your website which doesn&#039;t need to be hosted on the same server as your gameserver.<br>
<br>
<b>What am I going to achieve? </b>This.<br>
<br>
<img src="..\..\XHQ6ods-2.png?image=http%3A%2F%2Fi.imgur.com%2FXHQ6ods.png&amp;hash=772ecd51e016db869b5681d0fe2fbca2" class="bbCodeImage LbImage" alt="[&#x200B;IMG]" data-url="http://i.imgur.com/XHQ6ods.png"> <img src="..\..\lipEsEK-2.png?image=http%3A%2F%2Fi.imgur.com%2FlipEsEK.png&amp;hash=c291ecd6a434edbebab9fb4395c43b1a" class="bbCodeImage LbImage" alt="[&#x200B;IMG]" data-url="http://i.imgur.com/lipEsEK.png"><br>
<br>
<br>
<b>Difficulty Level: </b>**<br>
<br>
The example I will be using in this tutorial will be a MOTD (message of the day) that you can edit via your web page and load directly in game. It pulls a string from the web page and then saves it in the motd configuration file until the timer is called and updates the string again. Players will be able to access the motd by typing &quot;/motd&quot;.<br>
<br>
I will show you the process I used to create this plugin &amp; php script but I&#039;m not going to get in depth about PHP as it&#039;s irrelevant. PHP is heavily documented.<br>
<br>
I started with a basic plugin:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
PLUGIN.Title = &quot;MOTD&quot;
PLUGIN.Description = &quot;Message of the day using web requests tutorial.&quot;
PLUGIN.Author = &quot;Norn&quot;
PLUGIN.Version = V(1, 0, 0)
</pre>
</div>I then created a bunch of variables:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
local response_string = nil -- This is the string that the response (MOTD) will be stored in.
local receiveinterval = 10800 -- Timer interval, currently 3 hours.
local default_motd = &quot;MOTD hasn't been loaded to webserver.&quot; -- Default motd on plugin load.
local url = &quot;http://127.0.0.1/index/rd.php&quot; -- URL which gets requested.
local rtimer = nil -- Used for identifying timer for destruction.
</pre>
</div>Init:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
function PLUGIN:Init()
    self:LoadDefaultConfig()
    command.AddChatCommand(&quot;motd&quot;, self.Plugin, &quot;cmdMOTD&quot;)
end
</pre>
</div>Simply loading/generating configuration and adding the command &quot;/motd&quot;<br>
<br>
Now for the configuration:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
function PLUGIN:LoadDefaultConfig()
    self.Config.FirstUse = self.Config.FirstUse    or &quot;true&quot;
    self.Config.MOTD = self.Config.MOTD    or default_motd
    if(self.Config.FirstUse == &quot;true&quot;) then
        self.Config.FirstUse = &quot;false&quot;
        self:SaveConfig()
    end
end
</pre>
</div>The configuration I used was just a quick simple example, essentially there are two variables. MOTD and FirstUse. FirstUse is just set to default (true) when the plugin creates the configuration file.<br>
<br>
MOTD command:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
function PLUGIN:cmdMOTD(player, cmd, args)
    rust.SendChatMessage(player, &quot;[&quot; .. self.Title.. &quot;] &quot; .. self.Config.MOTD)
end
</pre>
</div>Now for the actual web request:<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
function PLUGIN:CallMOTD()
    if(self.Config.FirstUse == &quot;false&quot;) then
        rtimer = timer.Repeat(receiveinterval, 0, function()
            webrequests.EnqueueGet(url, function(code, response)
                if response == nil or code ~= 200 then
                    print(&quot;Could not retrieve MOTD from webserver.&quot;)
                    return
                end
                response_string = tostring(response)
                print(&quot;MOTD has been loaded from web server: &quot;..response_string)
                self.Config.MOTD = response_string
                self:SaveConfig()
            end, self.Plugin)
        end, self.Plugin)
    end
end
</pre>
</div>This function gets called once the entire script as when it&#039;s called a timer is started (at the receiveinterval), it checks FirstUse, if not then run timer. This is just an extra precaution.<br>
<br>
After the request calls successfully, it stores the data in response_string. It then updates the MOTD config variable with said string before saving configuration.<br>
<br>
Call timer on ServerInit (not plugin load, just incase plugin is loaded at startup)<br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
function PLUGIN:OnServerInitialized()
    self:CallMOTD()
end

function PLUGIN:OnPluginUnloaded() -- Destroy timer
    if rtimer then
        rtimer:Destroy()
    end
end
</pre>
</div><b>Now for the web side of things:<br>
<br>
rd.php</b><br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
&lt;?php
    $file_name = &quot;rust.motd&quot;;
    if (file_exists($file_name)) {
        echo(file_get_contents($file_name, true));
    }
?&gt;
</pre>
</div>Probably the easiest part, literally it does is open the file I store the message of the day in (rust.motd) and outputs it. This is what will be read by the plugin.<br>
<br>
Editing the motd from webpage (<b>index.php)<br>
</b><br>


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>
&lt;?php
    $file_name = &quot;rust.motd&quot;;
    if(isset($_POST['btnSubmit'])) {
        if(strlen($_POST['txtMOTD']) &gt;= 1) {
            $username = $_POST['txtMOTD'];
            $file = fopen($file_name,&quot;w&quot;);
            fwrite($file, &quot;[&quot;.date(&quot;Y-m-d&quot;).&quot;] &quot;.$_POST['txtMOTD']);
            fclose($file);
        }
    }
    if(!file_exists($file_name)) { // Default Configuration
        $file = fopen($file_name,&quot;w&quot;);
        fwrite($file,&quot;MOTD has not been set.&quot;);
        fclose($file);
    }
    else {
        $motd = file_get_contents($file_name, true);
    }
?&gt;

&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
     &lt;input id=&quot;txtMOTD&quot; name=&quot;txtMOTD&quot; class=&quot;_input&quot; type=&quot;text&quot;&gt;
     &lt;button id=&quot;btnSubmit&quot; name=&quot;btnSubmit&quot; class=&quot;_button&quot;&gt;Edit MOTD&lt;/button&gt;
  &lt;/form&gt;
</pre>
</div>What this does is checks if &quot;btnSubmit&quot; is clicked, if so it then checks if the textbox (txtMOTD) is not empty. If it&#039;s not empty then write the contents of txtMOTD to our &quot;rust.motd&quot; file. I also have a check to see if the &quot;rust.motd&quot; file exists upon loading of &quot;index.php&quot; if not, create it.<br>
<br>
That&#039;s it, very simple yet very effective. If you get into a habit of using this sort of method you can create some pretty interesting stuff. I have scripts where I can give items/bps to people that are currently ingame and online, set hostname etc. Possibilities are endless.<br>
<br>
I hope some of you find this interesting, if interest ensues I&#039;ll maybe post a more in depth tutorial. Perhaps interacting with live players using requests.<br>
<br>
I&#039;ve also attached my full plugin including the web script below <img src="..\..\styles\default\xenforo\clear-2.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)">
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			



<div class="attachedFiles">
	<h4 class="attachedFilesHeader">Attached Files:</h4>
	<ul class="attachmentList SquareThumbs" data-thumb-height="50" data-thumb-selector="div.thumbnail > a">
		
			<li class="attachment" title="web_side.zip">
				<div class="boxModelFixer primaryContent">
					
					<div class="thumbnail">
						
							<a href="..\..\attachments\web_side-zip.10720\web_side-2.zip" target="_blank" class="genericAttachment"></a>
						
					</div>
					
					<div class="attachmentInfo pairsJustified">
						<h6 class="filename"><a href="..\..\attachments\web_side-zip.10720\web_side-2.zip" target="_blank">web_side.zip</a></h6>
						<dl><dt>File size:</dt> <dd>245.2 KB</dd></dl>
						<dl><dt>Views:</dt> <dd>67</dd></dl>
					</div>
				</div>
			</li>
		
			<li class="attachment" title="motd.lua">
				<div class="boxModelFixer primaryContent">
					
					<div class="thumbnail">
						
							<a href="..\..\attachments\motd-lua.10721\motd-2.lua" target="_blank" class="genericAttachment"></a>
						
					</div>
					
					<div class="attachmentInfo pairsJustified">
						<h6 class="filename"><a href="..\..\attachments\motd-lua.10721\motd-2.lua" target="_blank">motd.lua</a></h6>
						<dl><dt>File size:</dt> <dd>1.7 KB</dd></dl>
						<dl><dt>Views:</dt> <dd>102</dd></dl>
					</div>
				</div>
			</li>
		
	</ul>
</div>




		</div>
		
		
		
			<div class="editDate">
			
				Last edited by a moderator: <span class="DateTime" title="Aug 13, 2015 at 6:22 AM">Aug 13, 2015</span>
			
			</div>
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Norn</a>,</span>
					<a href="index-3.html" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 14, 2015 at 10:22 PM">Jul 14, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/108181/permalink">#1</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123189" class="message   " data-author="PaiN">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="PaiN"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">PaiN</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Could you give me an example about running a console command ?
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">PaiN</a>,</span>
					<a href="index-3.html#post-123189" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 6:42 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123189" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123189/permalink">#2</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123197" class="message   " data-author="Norn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Norn"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Norn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="PaiN">
	<aside>
		
			<div class="attribution type">PaiN said:
				
					<a href="goto/post?id=123189#post-123189" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Could you give me an example about running a console command ?</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>If I could remember the actual way to send a console command in LUA I could give you a quick example yeah, I can&#039;t quite recall it atm haha.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Norn</a>,</span>
					<a href="index-3.html#post-123197" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 6:57 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123197" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123197/permalink">#3</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123198" class="message   " data-author="PaiN">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="PaiN"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">PaiN</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Norn">
	<aside>
		
			<div class="attribution type">Norn said:
				
					<a href="goto/post?id=123197#post-123197" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">If I could remember the actual way to send a console command in LUA I could give you a quick example yeah, I can&#039;t quite recall it atm haha.</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>What i need is just send a command once someone presses a button on the website. Like once he presses &quot;I Agree&quot; then website will send the command &quot;whitelist.add &lt;playerName&gt;&quot; and then i handle the other stuff.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">PaiN</a>,</span>
					<a href="index-3.html#post-123198" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 7:02 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123198" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123198/permalink">#4</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123203" class="message   " data-author="Norn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Norn"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Norn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="PaiN">
	<aside>
		
			<div class="attribution type">PaiN said:
				
					<a href="goto/post?id=123198#post-123198" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">What i need is just send a command once someone presses a button on the website. Like once he presses &quot;I Agree&quot; then website will send the command &quot;whitelist.add &lt;playerName&gt;&quot; and then i handle the other stuff.</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>I see I see, I can think of several concepts in my head. The question is really what way do you want to generate the data dynamically in php and which way you want to read the dynamically generated data in your lua plugin. That&#039;s personal preference really, if I was going to do something like that I would make two timers, one for reading and one for writing. Sending a string back and forth that you parse in the plugin/php script.<br>
<br>
That&#039;s pretty vague I know, I can maybe try a small example when I get on my pc later.<br>
<br>
EDIT:<br>
<br>
Or it can be done on one timer, just need to remove the old playername from whatever the php is echoing.<br>
<br>
The goal here would be to make the php script do as much work as possible, to take strain off the gameserver.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Norn</a>,</span>
					<a href="index-3.html#post-123203" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 7:10 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123203" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123203/permalink">#5</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123230" class="message   " data-author="Hirsty">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Hirsty"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Hirsty</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Norn.....why not just use pear scripts....im sure php has an ftp script and there are several RCON classes available - this could be done total;ly web side aapart from maybe getting the list of plugins
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Hirsty</a>,</span>
					<a href="index-3.html#post-123230" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 9:32 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123230" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123230/permalink">#6</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123243" class="message   " data-author="Norn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Norn"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Norn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Hirsty">
	<aside>
		
			<div class="attribution type">Hirsty said:
				
					<a href="goto/post?id=123230#post-123230" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Norn.....why not just use pear scripts....im sure php has an ftp script and there are several RCON classes available - this could be done total;ly web side aapart from maybe getting the list of plugins</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Depends on preference and scale of the project I guess.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Norn</a>,</span>
					<a href="index-3.html#post-123243" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 10:06 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123243" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123243/permalink">#7</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123251" class="message   " data-author="Hirsty">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Hirsty"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Hirsty</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					im sure if you are wanting to offload from the game server, youd be better using requests from the webserver rather than the game server
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Hirsty</a>,</span>
					<a href="index-3.html#post-123251" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 10:26 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123251" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123251/permalink">#8</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-123254" class="message   " data-author="Norn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Norn"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Norn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Hirsty">
	<aside>
		
			<div class="attribution type">Hirsty said:
				
					<a href="goto/post?id=123251#post-123251" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">im sure if you are wanting to offload from the game server, youd be better using requests from the webserver rather than the game server</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Oh of course, but I&#039;m referring to my example as it&#039;s just for a simple script<br>
<br>
Also the idea is to work on any free web host that allows php, a lot of them have stuff like that disabled.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Norn</a>,</span>
					<a href="index-3.html#post-123254" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 24, 2015 at 10:34 PM">Aug 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-123254" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/123254/permalink">#9</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-203701" class="message   " data-author="lukmussulin">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="lukmussulin"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">lukmussulin</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I had a problem in the installation when I run the script. someone can give a tip?<br>
<br>
<b>Warning</b>: date(): It is not safe to rely on the system&#039;s timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone &#039;UTC&#039; for now, but please set date.timezone to select your timezone. in <b>C:\xampp\htdocs\index\index.php</b> on line <b>7</b>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">lukmussulin</a>,</span>
					<a href="index-3.html#post-203701" title="Permalink" class="datePermalink"><span class="DateTime" title="May 7, 2016 at 4:56 AM">May 7, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-203701" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203701/permalink">#10</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-203743" class="message   " data-author="Troubled">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="Troubled"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Troubled</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="lukmussulin">
	<aside>
		
			<div class="attribution type">lukmussulin said:
				
					<a href="goto/post?id=203701#post-203701" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">I had a problem in the installation when I run the script. someone can give a tip?<br>
<br>
<b>Warning</b>: date(): It is not safe to rely on the system&#039;s timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone &#039;UTC&#039; for now, but please set date.timezone to select your timezone. in <b>C:\xampp\htdocs\index\index.php</b> on line <b>7</b></div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>This is only a warning not an error.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Troubled</a>,</span>
					<a href="index-3.html#post-203743" title="Permalink" class="datePermalink"><span class="DateTime" title="May 7, 2016 at 9:44 AM">May 7, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-203743" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/203743/permalink">#11</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-204191" class="message   " data-author="lukmussulin">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="..\..\styles\default\xenforo\avatars\avatar_m-2.png" width="96" height="96" alt="lukmussulin"></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">lukmussulin</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I configured with Zend Server and seems to work right, but that does not send messages in the chat. may be you need to install something else on windows?
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			



<div class="attachedFiles">
	<h4 class="attachedFilesHeader">Attached Files:</h4>
	<ul class="attachmentList SquareThumbs" data-thumb-height="50" data-thumb-selector="div.thumbnail > a">
		
			<li class="attachment image" title="motd.PNG">
				<div class="boxModelFixer primaryContent">
					
					<div class="thumbnail">
						
							<a href="..\..\attachments\motd-png.21483\motd-2.PNG" target="_blank" class="LbTrigger" data-href="misc/lightbox"><img src="..\..\data\attachments\21\21484-3f4f82309d60a028b8d574a41b832a96-2.jpeg" alt="motd.PNG" class="LbImage"></a>
						
					</div>
					
					<div class="attachmentInfo pairsJustified">
						<h6 class="filename"><a href="..\..\attachments\motd-png.21483\motd-2.PNG" target="_blank">motd.PNG</a></h6>
						<dl><dt>File size:</dt> <dd>1.1 MB</dd></dl>
						<dl><dt>Views:</dt> <dd>93</dd></dl>
					</div>
				</div>
			</li>
		
	</ul>
</div>




		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">lukmussulin</a>,</span>
					<a href="index-3.html#post-204191" title="Permalink" class="datePermalink"><span class="DateTime" title="May 8, 2016 at 1:58 PM">May 8, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="index-3.html#post-204191" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/204191/permalink">#12</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
		
	</ol>

	

	<input type="hidden" name="_xfToken" value="">

</form>


	<div class="pageNavLinkGroup">
		
			
				<div class="linkGroup">
					
				</div>
			
			<div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>

			
		
	</div>












	


												
												
					
			
						
			
						
			


			<footer>
				


<div class="footer">
		<div class="pageContent">
			
            
            
            </div>
			
		
			
			
			<span class="helper"></span>
			<ul class="footerLinks">
			
				
				<li><a href="..\..\terms\index-2.html">Terms and Rules</a></li>
				
				
				<li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
			
			</ul>
			
			<span class="helper"></span>
		</div>
</div>

			</footer>
		</div>
	</div>
</div>

<header>
	


<div id="header">
	<div class="headerWidth">
		<div id="logoBlock">
			
			
			<div id="logo"><a href="..\..\index-4.html">
				<span></span>
				<img src="..\..\styles\oxide\logo-2.png" alt="Oxide">
			</a></div>

			
			
			<span class="helper"></span>

</div>
		


<div id="navigation" class="">
	<div class="pageContent">
		<nav>
			<div class="navTabs">
				<ul class="publicTabs">

					
					

					
					

					
					
						<li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
							<a href="..\..\index-4.html" class="navLink" rel="Menu">Forums</a>

							
						</li>
					

					<li class="navTab PopupClosed">
	<a href="https://umod.org/documentation" class="navLink">Docs</a>
</li>


					
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="..\..\downloads\index-3.html" class="navLink" rel="Menu"> Downloads </a>

							
						</li>
						
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="..\..\plugins\index-3.html" class="navLink" rel="Menu"> Plugins </a>

							
						</li>
						
					
					

					
					

					
					

					
					<li class="navTab selected"><div class="tabLinks"></div></li>
				</ul>

				
				
			</div>

			<span class="helper"></span>
		</nav>
	</div>
</div>
	</div>
</div>

	
	
</header>

</div>

<script>


jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1550028862,
		today: 1550016000,
		todayDow: 3
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(255, 255, 255)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"thread_view":true,"attached_files":true,"message":true,"bb_code":true,"message_user_info":true},
	_cookieConfig: { path: "/", domain: ".oxidemod.org", prefix: "ih_xfid_"},
	_csrfToken: "",
	_csrfRefreshUrl: "login/csrf-token-refresh",
	_jsVersion: "f33b43a2"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});




</script>




</body>
</html>