<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="https://oxidemod.org/" />
  <script> var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
  <title>Adding a cooldown to a command? | Oxide</title>
  <noscript>
    <style>.JsOnly, .jsOnly { display: none !important; }</style>
  </noscript>
  <link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548526345" />
  <link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548526345" />
  <script src="js/jquery/jquery-1.11.0.min.js"></script>
  <script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
  <link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
  <link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
  <link rel="next" href="threads/adding-a-cooldown-to-a-command.26051/page-2" />
  <link rel="canonical" href="https://oxidemod.org/threads/adding-a-cooldown-to-a-command.26051/" />
  <meta name="description" content="i have searched high and low, don't understand how to write C# plugins.

How would enable a cooldown on a chat command?

      #region Core..." />
  <meta property="og:site_name" content="Oxide" />
  <meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
  <meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://oxidemod.org/threads/adding-a-cooldown-to-a-command.26051/" />
  <meta property="og:title" content="Adding a cooldown to a command?" />
  <meta property="og:description" content="i have searched high and low, don't understand how to write C# plugins.

How would enable a cooldown on a chat command?

      #region Core..." />
</head>

<body class="node4 node1 node104 node105 SelectQuotable">
  <div id="headerMover">
    <div id="headerProxy"></div>
    <div id="content" class="thread_view">
      <div class="pageWidth">
        <div class="pageContent">
          <div class="breadBoxTop ">
            <nav>
              <fieldset class="breadcrumb">
                <div class="boardTitle"><strong>Oxide</strong></div>
                <span class="crumbs">
                  <span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                </span>
              </fieldset>
            </nav>
          </div>
          <!-- h1 title, description -->
          <div class="titleBar">
            <h1>
              <a href="https://oxidemod.org/threads/adding-a-cooldown-to-a-command.26051/">Adding a cooldown to a command?</a>
            </h1>
            <p id="pageDescription" class="muted "> Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">Squire</a>, <a href="threads/adding-a-cooldown-to-a-command.26051/"><span
                  class="DateTime" title="Jun 23, 2017 at 11:10 AM">Jun 23, 2017</span></a>. </p>
          </div>
          <div class="pageNavLinkGroup">
            <div class="linkGroup SelectionCountContainer">
            </div>
            <div class="PageNav" data-page="1" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{{sentinel}}" data-baseurl="threads/adding-a-cooldown-to-a-command.26051/page-{{sentinel}}">
              <nav>
                <a href="threads/adding-a-cooldown-to-a-command.26051/" class="currentPage " rel="start">1</a>
                <a href="threads/adding-a-cooldown-to-a-command.26051/page-2" class="">2</a>
                <a href="threads/adding-a-cooldown-to-a-command.26051/page-2" class="text">Next &gt;</a>
              </nav>
            </div>
          </div>
          <form action="inline-mod/post/switch" method="post" class="InlineModForm section" data-cookieName="posts" data-controls="#InlineModControls" data-imodOptions="#ModerationSelect option">
            <ol class="messageList" id="messageList">
              <li id="post-333244" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> i have searched high and low, don&#039;t understand how to write C# plugins.<br />
                        <br /> How would enable a cooldown on a chat command?<br />
                        <br /> #region Core<br /> [ChatCommand(&quot;nuke&quot;)]<br /> void chatNuke(BasePlayer player, string command, string[] args) {<br /> if
                        (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;)) {<br /> var foundPlayer = rust.FindPlayer(args[0]);<br /> if (foundPlayer == null) {<br />
                        PrintToChat(player, $&quot;We couldn&#039;t find a player named {args[0]}&quot;);<br /> return;<br /> } else {<br /> DoNuke(foundPlayer);<br /> }<br /> }<br /> }<br />
                        <br /> void DoNuke(BasePlayer player) {<br /> System.Random r = new System.Random();<br /> int intensityValue = r.Next(800, 1500);<br /> int durationValue = r.Next(50, 150);<br />
                        int radiusValue = r.Next(164, 165);<br /> int timeLeft = 0;<br />
                        <br /> Im after a cooldown on the /nuke chat command. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 11:10 AM">Jun 23, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333244/permalink">#1</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333249" class="message   " data-author="bazuka5801">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="bazuka5801" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">bazuka5801</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> list&lt;userid&gt; cooldowns = ....<br />
                        <br /> command[&#039;&#039;&#039;]<br /> void ...(userid, ...){<br /> if (colldowns.contains(userid)){<br /> sendreply(&#039;Fucked cooldown&#039;);<br /> return<br /> }<br />
                        ....<br /> } <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">bazuka5801</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333249" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 11:16 AM">Jun 23,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333249" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333249/permalink">#2</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333254" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> thats a great help... not <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333254" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 12:00 PM">Jun 23,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333254" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333254/permalink">#3</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333256" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I&#039;d probably have a hashset or a list to put players in that have run the command, and a timer. So when
                        they run the command, it checks the list for their ID, if not found then add them to the list, create a new timer which at the end will remove them from the list, the rest
                        containing all the actions you need to carry out. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jun 23, 2017 at 5:52 PM">Jun 23, 2017</span>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333256" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 12:15 PM">Jun 23,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333256" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333256/permalink">#4</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333258" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> this means nothing to me, like i said i don&#039;t write C# so more or less looking for a example thats very
                        close to what im looking for.<br />
                        <br /> I found a plugin that im trying to change to suit my needs. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333258" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 12:43 PM">Jun 23,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333258" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333258/permalink">#5</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333262" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Squire">
                          <aside>
                            <div class="attribution type">Squire said: <a href="goto/post?id=333258#post-333258" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">this means nothing to me, like i said i don&#039;t write C# so more or less looking for a example thats very close to what im looking for.<br />
                                <br /> I found a plugin that im trying to change to suit my needs.</div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>It would take me a little bit of time to write something up that would provide you an example that wouldn&#039;t just spoon feed but teach and explain things. So if no
                        one does it before me, I will see if I can do something later on. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jun 23, 2017 at 6:02 PM">Jun 23, 2017</span>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333262" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 12:58 PM">Jun 23,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333262" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333262/permalink">#6</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333268" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> i wasnt asking to be spoon fed, but i tend to learn better if things are actually explained, methods etc.<br />
                        <br /> i can code php, python, bash &amp; tcl but C# seems quite hard to follow or its the doc&#039;s that has been supplied for oxide being alittle slim of the technical info
                        side.. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333268" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 1:45 PM">Jun 23, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333268" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333268/permalink">#7</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333319" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>

using System.Collections.Generic; //Using directive containing the HashSet class

namespace Oxide.Plugins //Namespace where plugins must go
{
    [Info(&quot;TestPlugin&quot;, &quot;JoeSheep&quot;, &quot;1.0.0&quot;)]
    [Description(&quot;A Test Plugin.&quot;)]
    class TestPlugin : RustPlugin
    {
        HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
        const string Perm = &quot;TestPlugin.test&quot;; //Create the permission

        void OnServerInitialized()
        {
            permission.RegisterPermission(Perm, this); //Register the permission when the server initializes
        }

        [ChatCommand(&quot;test&quot;)] //Create the chat command to do the following
        void cmdTestCommand(BasePlayer player, string cmd)
        {
            if (permission.UserHasPermission(player.UserIDString, Perm)) //Check if the player has the permission &quot;Perm&quot;
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(10, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                    SendReply(player, &quot;Test command.&quot;); //Send a chat message to the player saying &quot;Test command.&quot;
                }
                else
                    SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
            }
            else
                SendReply(player, &quot;You do not have permission to run this command&quot;); //If the player doesn't have the permission Perm then send this chat message to them
        }
    }
}
</pre>
                        </div>Does that explain it well enough? <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333319" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 23, 2017 at 6:01 PM">Jun 23, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333319" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333319/permalink">#8</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333478" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> hmm no. i&#039;ve tried and can&#039;t do it, anyone want to be paid to insert a timeout to this plugin i have
                        please PM me. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333478" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 24, 2017 at 7:26 AM">Jun 24, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333478" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333478/permalink">#9</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333509" class="message   " data-author="Ryan">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Ryan" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Ryan</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Don&#039;t pay for such a simple task that you can learn yourself. <br />
                        <br /> Look at other plugins on Oxide for examples. You can look in one of mine: <a href="http://oxidemod.org/plugins/permrewards.2491/" class="internalLink">PermRewards for
                          Rust | Oxide</a><br />
                        <br /> Have a data file containing all the cooldowns of players, store the time when they used the command. Add the time of the cooldown you want to the time when they used
                        it, if that time is more than the current time of when they try to use the command, then don&#039;t let them use it. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333509" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 24, 2017 at 4:23 PM">Jun 24, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333509" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333509/permalink">#10</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333536" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Squire">
                          <aside>
                            <div class="attribution type">Squire said: <a href="goto/post?id=333478#post-333478" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">hmm no. i&#039;ve tried and can&#039;t do it, anyone want to be paid to insert a timeout to this plugin i have please PM me.</div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>What errors did you get doing this? <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333536" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 24, 2017 at 6:32 PM">Jun 24, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333536" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333536/permalink">#11</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333552" class="message   " data-author="Ryan">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Ryan" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Ryan</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="JoeSheep">
                          <aside>
                            <div class="attribution type">JoeSheep said: <a href="goto/post?id=333536#post-333536" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">What errors did you get doing this?</div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>He probably didn&#039;t assign himself the permission <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Ryan</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333552" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 24, 2017 at 7:55 PM">Jun 24, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333552" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333552/permalink">#12</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333599" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="JoeSheep">
                          <aside>
                            <div class="attribution type">JoeSheep said: <a href="goto/post?id=333536#post-333536" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">What errors did you get doing this?</div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>Error while compiling: NukePlayer.cs(66,17): error CS1525: Unexpected symbol `(&#039;, expecting `,&#039;, `;&#039;, or `=&#039;<br />
                        [DOUBLEPOST=1498348114][/DOUBLEPOST]here is the first part of the plugin, i have no clue in what im doing, where i place things, i assume the plugin reads from top to bottom.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>    class NukePlayer : RustPlugin {
      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

      void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

      #region Core
      [ChatCommand(&quot;nuke&quot;)]
      void chatNuke(BasePlayer player, string command, string[] args) {
        if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;)) {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }

      void DoNuke(BasePlayer player) {
        System.Random r = new System.Random();
        int intensityValue = r.Next(800, 1500);
        int durationValue = r.Next(50, 150);
        int radiusValue = r.Next(164, 165);
        int timeLeft = 0;

        string intensityMsg = $&quot;&lt;color=#e67e22&gt;{intensityValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;kiloton nuke incoming on {player.displayName}&lt;/color&gt;&quot;;
        // string statsMsg = $&quot;&lt;color=#f1c40f&gt;The fallout radius is &lt;/color&gt;&lt;color=#e67e22&gt;{radiusValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;and will last for&lt;/color&gt; &lt;color=#e67e22&gt;{durationValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;seconds.&lt;/color&gt;&quot;;
       
        // Let everyone know doom is coming.
        ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, intensityMsg});
        // ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, statsMsg});

         timer.Once(timeLeft, () =&gt; {
          // Do damage and add radiation
          Detonate(player);
          // Set off effects around the player
          NukeEffects(player);
        });
      }
      #endregion Core</pre>
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Jun 25, 2017 at 12:49 AM">Jun 25, 2017</span>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333599" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 12:39 AM">Jun 25,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333599" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333599/permalink">#13</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333631" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Squire">
                          <aside>
                            <div class="attribution type">Squire said: <a href="goto/post?id=333599#post-333599" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">Error while compiling: NukePlayer.cs(66,17): error CS1525: Unexpected symbol `(&#039;, expecting `,&#039;, `;&#039;, or `=&#039;<br />
                                [DOUBLEPOST=1498348114][/DOUBLEPOST]here is the first part of the plugin, i have no clue in what im doing, where i place things, i assume the plugin reads from top to
                                bottom.<br />
                                <br />
                                <div class="bbCodeBlock bbCodeCode">
                                  <div class="type">Code:</div>
                                  <pre>    class NukePlayer : RustPlugin {
      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

      void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

      #region Core
      [ChatCommand(&quot;nuke&quot;)]
      void chatNuke(BasePlayer player, string command, string[] args) {
        if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;)) {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }

      void DoNuke(BasePlayer player) {
        System.Random r = new System.Random();
        int intensityValue = r.Next(800, 1500);
        int durationValue = r.Next(50, 150);
        int radiusValue = r.Next(164, 165);
        int timeLeft = 0;

        string intensityMsg = $&quot;&lt;color=#e67e22&gt;{intensityValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;kiloton nuke incoming on {player.displayName}&lt;/color&gt;&quot;;
        // string statsMsg = $&quot;&lt;color=#f1c40f&gt;The fallout radius is &lt;/color&gt;&lt;color=#e67e22&gt;{radiusValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;and will last for&lt;/color&gt; &lt;color=#e67e22&gt;{durationValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;seconds.&lt;/color&gt;&quot;;
     
        // Let everyone know doom is coming.
        ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, intensityMsg});
        // ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, statsMsg});

         timer.Once(timeLeft, () =&gt; {
          // Do damage and add radiation
          Detonate(player);
          // Set off effects around the player
          NukeEffects(player);
        });
      }
      #endregion Core</pre>
                                </div>
                              </div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>That error literally says you have a syntax issue on line 66 column 17 and it is an issue with the ( symbol. If you&#039;ve coded other languages before you should be
                        able to figure out how to fix a syntax issue right? Either way that&#039;s your first issue, fix that try again and it will complain if something else is incorrect. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333631" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 10:14 AM">Jun 25,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333631" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333631/permalink">#14</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333647" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Error while compiling: nuketest.cs(102,30): error CS1525: Unexpected symbol `System&#039;<br />
                        <br /> Don&#039;t know what that means and no doubt its all in the wrong places.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>      HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
      const string Perm = &quot;nukeplayer.use&quot;; //Create the permission

      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

        public static string Perm1 =&gt; Perm;

        void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

        #region Core
        [ChatCommand(&quot;nuke&quot;)]
        void chatNuke(BasePlayer player, string command, string[] args) {
            if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;))
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(10, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                    var foundPlayer = rust.FindPlayer(args[0]);
                    if (foundPlayer == null)
                    {
                        PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
                        return;
                    }
                    else
                    {
                        SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
                       
                    }
                }
                else
                    SendReply(player, &quot;You do not have permission to run this command&quot;); //If the player doesn't have the permission Perm then send this chat message to them    
            }
            else
                DoNuke(foundPlayer);
        }
      }

      void DoNuke(BasePlayer player) {
        System.Random r = new System.Random();
        int intensityValue = r.Next(800, 1500);
        int durationValue = r.Next(50, 150);
        int radiusValue = r.Next(164, 165);
        int timeLeft = 0;</pre>
                        </div>[DOUBLEPOST=1498391944][/DOUBLEPOST]i cant remove what is on line 102 <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333647" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 12:43 PM">Jun 25,
                            2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333647" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333647/permalink">#15</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333649" class="message   " data-author="Resistance">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Resistance" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Resistance</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> If you dont upload the full script we cant help <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Resistance</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333649" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 1:13 PM">Jun 25, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333649" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333649/permalink">#16</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333650" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> ok so this is what i have so far with no errors..<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>   class NukePlayer : RustPlugin {
        #region Config

        private ConfigFile configFile;

        public class ConfigFile
        {
            public float Cooldown { get; set; }

            public static ConfigFile DefaultConfig()
            {
                return new ConfigFile
                {
                    Cooldown = 60
                };
            }
        }

        protected override void LoadDefaultConfig()
        {
            PrintWarning(&quot;Generating default configuration file...&quot;);
            configFile = ConfigFile.DefaultConfig();
        }

        protected override void LoadConfig()
        {
            base.LoadConfig();
            configFile = Config.ReadObject&lt;ConfigFile&gt;();
        }

        protected override void SaveConfig()
        {
            Config.WriteObject(configFile);
        }

        #endregion

      HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
      const string Perm = &quot;nukeplayer.use&quot;; //Create the permission

      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

        public static string Perm1 =&gt; Perm;

        void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

        #region Core
        [ChatCommand(&quot;nuke&quot;)]
        void chatNuke(BasePlayer player, string command, string[] args) {
            if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;))
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(configFile.Cooldown, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                }
                else
                    SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
            }
            else {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }</pre>
                        </div>[DOUBLEPOST=1498393015][/DOUBLEPOST] <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>using Newtonsoft.Json;
using System.Collections.Generic;
using UnityEngine;
using System.Linq;
using Facepunch;
using System;
using Oxide.Core;
using Oxide.Core.Configuration;
using Oxide.Game.Rust.Cui;
using Oxide.Core.Plugins;
using System.Reflection;
using System.Collections;
using System.IO;
using Rust;

namespace Oxide.Plugins {
    [Info(&quot;NukePlayer&quot;, &quot;wski&quot;, 1.0)]
    [Description(&quot;Nuke players in an epic way.&quot;)]

    class NukePlayer : RustPlugin {
        #region Config

        private ConfigFile configFile;

        public class ConfigFile
        {
            public float Cooldown { get; set; }

            public static ConfigFile DefaultConfig()
            {
                return new ConfigFile
                {
                    Cooldown = 60
                };
            }
        }

        protected override void LoadDefaultConfig()
        {
            PrintWarning(&quot;Generating default configuration file...&quot;);
            configFile = ConfigFile.DefaultConfig();
        }

        protected override void LoadConfig()
        {
            base.LoadConfig();
            configFile = Config.ReadObject&lt;ConfigFile&gt;();
        }

        protected override void SaveConfig()
        {
            Config.WriteObject(configFile);
        }

        #endregion

      HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
      const string Perm = &quot;nukeplayer.use&quot;; //Create the permission

      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

        public static string Perm1 =&gt; Perm;

        void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

        #region Core
        [ChatCommand(&quot;nuke&quot;)]
        void chatNuke(BasePlayer player, string command, string[] args) {
            if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;))
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(configFile.Cooldown, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                }
                else
                    SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
            }
            else {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }

      void DoNuke(BasePlayer player) {
        System.Random r = new System.Random();
        int intensityValue = r.Next(800, 1500);
        int durationValue = r.Next(50, 150);
        int radiusValue = r.Next(164, 165);
        int timeLeft = 0;

        string intensityMsg = $&quot;&lt;color=#e67e22&gt;{intensityValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;kiloton nuke incoming on {player.displayName}&lt;/color&gt;&quot;;
        // string statsMsg = $&quot;&lt;color=#f1c40f&gt;The fallout radius is &lt;/color&gt;&lt;color=#e67e22&gt;{radiusValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;and will last for&lt;/color&gt; &lt;color=#e67e22&gt;{durationValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;seconds.&lt;/color&gt;&quot;;
       
        // Let everyone know doom is coming.
        ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, intensityMsg});
        // ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, statsMsg});

         timer.Once(timeLeft, () =&gt; {
          // Do damage and add radiation
          Detonate(player);
          // Set off effects around the player
          NukeEffects(player);
        });
      }
      #endregion Core
   
      #region Effects
      private void Detonate(BasePlayer player) {
        Rust.DamageTypeEntry dmg = new Rust.DamageTypeEntry();
        dmg.amount = 70;
        dmg.type = Rust.DamageType.Generic;
       
        HitInfo hitInfo = new HitInfo() {
            Initiator = null,
            WeaponPrefab = null
        };

        hitInfo.damageTypes.Add(new List&lt;Rust.DamageTypeEntry&gt; { dmg });
        DamageUtil.RadiusDamage(null, null, player.transform.position, 5, 10, new List&lt;Rust.DamageTypeEntry&gt; { dmg }, 133376, true);

        // Init Radiation on the players location
        InitializeZone(player.transform.position, 10, 150, 60, false);
      }

      private void NukeEffects(BasePlayer player) {
        System.Random r = new System.Random();
        // How many explosions within radius to set off
        int explosionCount = 35;
        int explosionRadius = 15;



        for (int i = 1; i &lt;= explosionCount; i++) {
          Vector3 plusOffset = new Vector3(r.Next(1, explosionRadius), r.Next(1, explosionRadius), r.Next(1, explosionRadius));
          Vector3 minusOffset = new Vector3(r.Next(1, explosionRadius), r.Next(1, explosionRadius), r.Next(1, explosionRadius));
          Vector3 explosionLocation = player.transform.position + plusOffset - minusOffset;

          string[] prefabEffects = new string[12] {
            &quot;assets/bundled/prefabs/fx/fire/fire_v2.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet1.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet2.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet3.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet4.prefab&quot;,
            &quot;assets/prefabs/tools/c4/effects/c4_explosion.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/weapons/landmine/landmine_explosion.prefab&quot;,
            &quot;assets/prefabs/npc/patrol helicopter/effects/rocket_explosion.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_01.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_02.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_03.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_core.prefab&quot;
          };

          foreach (string prefabEffect in prefabEffects){
            Effect.server.Run(prefabEffect, explosionLocation, Vector3.up);
          }
        }
      }
      #endregion Effetcs

      // Credits to k1lly0u for code within this region
      #region Radiation Control
      private void InitializeZone(Vector3 Location, float intensity, float duration, float radius, bool explosionType = false) {
        if (!ConVar.Server.radiation)
            ConVar.Server.radiation = true;
        if (explosionType) Effect.server.Run(&quot;assets/prefabs/tools/c4/effects/c4_explosion.prefab&quot;, Location);
        else Effect.server.Run(&quot;assets/prefabs/npc/patrol helicopter/effects/rocket_explosion.prefab&quot;, Location);

        var newZone = new GameObject().AddComponent&lt;RadZones&gt;();
        newZone.Activate(Location, radius, intensity);

        var listEntry = new ZoneList { zone = newZone };
        listEntry.time = timer.Once(duration, () =&gt; DestroyZone(listEntry));

        RadiationZones.Add(listEntry);
      }
      private void DestroyZone(ZoneList zone){
        if (RadiationZones.Contains(zone)) {
            var index = RadiationZones.FindIndex(a =&gt; a.zone == zone.zone);
            RadiationZones[index].time.Destroy();
            UnityEngine.Object.Destroy(RadiationZones[index].zone);
            RadiationZones.Remove(zone);
        }           
      }
      public class ZoneList {
        public RadZones zone;
        public Timer time;
      }

      public class RadZones : MonoBehaviour {
        private int ID;
        private Vector3 Position;
        private float ZoneRadius;
        private float RadiationAmount;

        private List&lt;BasePlayer&gt; InZone;

        private void Awake() {
          gameObject.layer = (int)Layer.Reserved1;
          gameObject.name = &quot;NukeZone&quot;;

          var rigidbody = gameObject.AddComponent&lt;Rigidbody&gt;();
          rigidbody.useGravity = false;
          rigidbody.isKinematic = true;
        }

        public void Activate(Vector3 pos, float radius, float amount) {
          ID = UnityEngine.Random.Range(0, 999999999);
          Position = pos;
          ZoneRadius = radius;
          RadiationAmount = amount;

          gameObject.name = $&quot;RadZone {ID}&quot;;
          transform.position = Position;
          transform.rotation = new Quaternion();
          UpdateCollider();
          gameObject.SetActive(true);
          enabled = true;

          var Rads = gameObject.GetComponent&lt;TriggerRadiation&gt;();
          Rads = Rads ?? gameObject.AddComponent&lt;TriggerRadiation&gt;();
          Rads.RadiationAmountOverride = RadiationAmount;
          Rads.radiationSize = ZoneRadius;
          Rads.interestLayers = playerLayer;
          Rads.enabled = true;

          if (IsInvoking(&quot;UpdateTrigger&quot;)) CancelInvoke(&quot;UpdateTrigger&quot;);
          InvokeRepeating(&quot;UpdateTrigger&quot;, 5f, 5f);
        }

        private void OnDestroy() {
          CancelInvoke(&quot;UpdateTrigger&quot;);
          Destroy(gameObject);
        }

        private void UpdateCollider() {
          var sphereCollider = gameObject.GetComponent&lt;SphereCollider&gt;();
          {
            if (sphereCollider == null) {
              sphereCollider = gameObject.AddComponent&lt;SphereCollider&gt;();
              sphereCollider.isTrigger = true;
            }
            sphereCollider.radius = ZoneRadius;
          }
        }
        private void UpdateTrigger()
        {
          InZone = new List&lt;BasePlayer&gt;();
          int entities = Physics.OverlapSphereNonAlloc(Position, ZoneRadius, colBuffer, playerLayer);
          for (var i = 0; i &lt; entities; i++) {
            var player = colBuffer[i].GetComponentInParent&lt;BasePlayer&gt;();
            if (player != null)
                InZone.Add(player);
          }
        }
      }
      #endregion
    }
};
</pre>
                        </div>Full plugin<br /> [DOUBLEPOST=1498393222][/DOUBLEPOST]/nuke &lt; player &gt; doesnt work <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333650" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 1:15 PM">Jun 25, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333650" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333650/permalink">#17</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333651" class="message   " data-author="JoeSheep">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="JoeSheep" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">JoeSheep</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Squire">
                          <aside>
                            <div class="attribution type">Squire said: <a href="goto/post?id=333650#post-333650" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">ok so this is what i have so far with no errors..<br />
                                <br />
                                <div class="bbCodeBlock bbCodeCode">
                                  <div class="type">Code:</div>
                                  <pre>   class NukePlayer : RustPlugin {
        #region Config

        private ConfigFile configFile;

        public class ConfigFile
        {
            public float Cooldown { get; set; }

            public static ConfigFile DefaultConfig()
            {
                return new ConfigFile
                {
                    Cooldown = 60
                };
            }
        }

        protected override void LoadDefaultConfig()
        {
            PrintWarning(&quot;Generating default configuration file...&quot;);
            configFile = ConfigFile.DefaultConfig();
        }

        protected override void LoadConfig()
        {
            base.LoadConfig();
            configFile = Config.ReadObject&lt;ConfigFile&gt;();
        }

        protected override void SaveConfig()
        {
            Config.WriteObject(configFile);
        }

        #endregion

      HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
      const string Perm = &quot;nukeplayer.use&quot;; //Create the permission

      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

        public static string Perm1 =&gt; Perm;

        void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

        #region Core
        [ChatCommand(&quot;nuke&quot;)]
        void chatNuke(BasePlayer player, string command, string[] args) {
            if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;))
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(configFile.Cooldown, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                }
                else
                    SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
            }
            else {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }</pre>
                                </div>[DOUBLEPOST=1498393015][/DOUBLEPOST] <div class="bbCodeBlock bbCodeCode">
                                  <div class="type">Code:</div>
                                  <pre>using Newtonsoft.Json;
using System.Collections.Generic;
using UnityEngine;
using System.Linq;
using Facepunch;
using System;
using Oxide.Core;
using Oxide.Core.Configuration;
using Oxide.Game.Rust.Cui;
using Oxide.Core.Plugins;
using System.Reflection;
using System.Collections;
using System.IO;
using Rust;

namespace Oxide.Plugins {
    [Info(&quot;NukePlayer&quot;, &quot;wski&quot;, 1.0)]
    [Description(&quot;Nuke players in an epic way.&quot;)]

    class NukePlayer : RustPlugin {
        #region Config

        private ConfigFile configFile;

        public class ConfigFile
        {
            public float Cooldown { get; set; }

            public static ConfigFile DefaultConfig()
            {
                return new ConfigFile
                {
                    Cooldown = 60
                };
            }
        }

        protected override void LoadDefaultConfig()
        {
            PrintWarning(&quot;Generating default configuration file...&quot;);
            configFile = ConfigFile.DefaultConfig();
        }

        protected override void LoadConfig()
        {
            base.LoadConfig();
            configFile = Config.ReadObject&lt;ConfigFile&gt;();
        }

        protected override void SaveConfig()
        {
            Config.WriteObject(configFile);
        }

        #endregion

      HashSet&lt;ulong&gt; Cooldowns = new HashSet&lt;ulong&gt;(); //Create our list to store the players currently in cooldown
      const string Perm = &quot;nukeplayer.use&quot;; //Create the permission

      private static readonly int playerLayer = LayerMask.GetMask(&quot;Player (Server)&quot;);
      private static readonly Collider[] colBuffer = (Collider[])typeof(Vis).GetField(&quot;colBuffer&quot;, (BindingFlags.Static | BindingFlags.NonPublic))?.GetValue(null);

      private List&lt;ZoneList&gt; RadiationZones = new List&lt;ZoneList&gt;();

        public static string Perm1 =&gt; Perm;

        void Loaded() {
        permission.RegisterPermission(&quot;nukeplayer.use&quot;, this);
      }

        #region Core
        [ChatCommand(&quot;nuke&quot;)]
        void chatNuke(BasePlayer player, string command, string[] args) {
            if (permission.UserHasPermission(player.UserIDString, &quot;nukeplayer.use&quot;))
            {
                if (!Cooldowns.Contains(player.userID)) //Check if the player is listed in the HashSet &quot;Cooldowns&quot;, if not continue
                {
                    Cooldowns.Add(player.userID); //Add the player to the Cooldowns HashSet so they cannot run the command again until removed
                    timer.Once(configFile.Cooldown, () =&gt; Cooldowns.Remove(player.userID)); //Create and start a timer for 10 seconds, when it expires remove the player from the Cooldowns HashSet
                }
                else
                    SendReply(player, &quot;Cooldown in effect.&quot;); //If the player is in the Cooldowns HashSet send this chat message to them
            }
            else {
          var foundPlayer = rust.FindPlayer(args[0]);
          if (foundPlayer == null) {
            PrintToChat(player, $&quot;We couldn't find a player named {args[0]}&quot;);
            return;
          } else {
            DoNuke(foundPlayer);
          }
        }
      }

      void DoNuke(BasePlayer player) {
        System.Random r = new System.Random();
        int intensityValue = r.Next(800, 1500);
        int durationValue = r.Next(50, 150);
        int radiusValue = r.Next(164, 165);
        int timeLeft = 0;

        string intensityMsg = $&quot;&lt;color=#e67e22&gt;{intensityValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;kiloton nuke incoming on {player.displayName}&lt;/color&gt;&quot;;
        // string statsMsg = $&quot;&lt;color=#f1c40f&gt;The fallout radius is &lt;/color&gt;&lt;color=#e67e22&gt;{radiusValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;and will last for&lt;/color&gt; &lt;color=#e67e22&gt;{durationValue.ToString()}&lt;/color&gt; &lt;color=#f1c40f&gt;seconds.&lt;/color&gt;&quot;;
     
        // Let everyone know doom is coming.
        ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, intensityMsg});
        // ConsoleNetwork.BroadcastToAllClients(&quot;chat.add&quot;, new object[] { null, statsMsg});

         timer.Once(timeLeft, () =&gt; {
          // Do damage and add radiation
          Detonate(player);
          // Set off effects around the player
          NukeEffects(player);
        });
      }
      #endregion Core
 
      #region Effects
      private void Detonate(BasePlayer player) {
        Rust.DamageTypeEntry dmg = new Rust.DamageTypeEntry();
        dmg.amount = 70;
        dmg.type = Rust.DamageType.Generic;
     
        HitInfo hitInfo = new HitInfo() {
            Initiator = null,
            WeaponPrefab = null
        };

        hitInfo.damageTypes.Add(new List&lt;Rust.DamageTypeEntry&gt; { dmg });
        DamageUtil.RadiusDamage(null, null, player.transform.position, 5, 10, new List&lt;Rust.DamageTypeEntry&gt; { dmg }, 133376, true);

        // Init Radiation on the players location
        InitializeZone(player.transform.position, 10, 150, 60, false);
      }

      private void NukeEffects(BasePlayer player) {
        System.Random r = new System.Random();
        // How many explosions within radius to set off
        int explosionCount = 35;
        int explosionRadius = 15;



        for (int i = 1; i &lt;= explosionCount; i++) {
          Vector3 plusOffset = new Vector3(r.Next(1, explosionRadius), r.Next(1, explosionRadius), r.Next(1, explosionRadius));
          Vector3 minusOffset = new Vector3(r.Next(1, explosionRadius), r.Next(1, explosionRadius), r.Next(1, explosionRadius));
          Vector3 explosionLocation = player.transform.position + plusOffset - minusOffset;

          string[] prefabEffects = new string[12] {
            &quot;assets/bundled/prefabs/fx/fire/fire_v2.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet1.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet2.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet3.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/ricochet/ricochet4.prefab&quot;,
            &quot;assets/prefabs/tools/c4/effects/c4_explosion.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/weapons/landmine/landmine_explosion.prefab&quot;,
            &quot;assets/prefabs/npc/patrol helicopter/effects/rocket_explosion.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_01.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_02.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_03.prefab&quot;,
            &quot;assets/bundled/prefabs/fx/explosions/explosion_core.prefab&quot;
          };

          foreach (string prefabEffect in prefabEffects){
            Effect.server.Run(prefabEffect, explosionLocation, Vector3.up);
          }
        }
      }
      #endregion Effetcs

      // Credits to k1lly0u for code within this region
      #region Radiation Control
      private void InitializeZone(Vector3 Location, float intensity, float duration, float radius, bool explosionType = false) {
        if (!ConVar.Server.radiation)
            ConVar.Server.radiation = true;
        if (explosionType) Effect.server.Run(&quot;assets/prefabs/tools/c4/effects/c4_explosion.prefab&quot;, Location);
        else Effect.server.Run(&quot;assets/prefabs/npc/patrol helicopter/effects/rocket_explosion.prefab&quot;, Location);

        var newZone = new GameObject().AddComponent&lt;RadZones&gt;();
        newZone.Activate(Location, radius, intensity);

        var listEntry = new ZoneList { zone = newZone };
        listEntry.time = timer.Once(duration, () =&gt; DestroyZone(listEntry));

        RadiationZones.Add(listEntry);
      }
      private void DestroyZone(ZoneList zone){
        if (RadiationZones.Contains(zone)) {
            var index = RadiationZones.FindIndex(a =&gt; a.zone == zone.zone);
            RadiationZones[index].time.Destroy();
            UnityEngine.Object.Destroy(RadiationZones[index].zone);
            RadiationZones.Remove(zone);
        }         
      }
      public class ZoneList {
        public RadZones zone;
        public Timer time;
      }

      public class RadZones : MonoBehaviour {
        private int ID;
        private Vector3 Position;
        private float ZoneRadius;
        private float RadiationAmount;

        private List&lt;BasePlayer&gt; InZone;

        private void Awake() {
          gameObject.layer = (int)Layer.Reserved1;
          gameObject.name = &quot;NukeZone&quot;;

          var rigidbody = gameObject.AddComponent&lt;Rigidbody&gt;();
          rigidbody.useGravity = false;
          rigidbody.isKinematic = true;
        }

        public void Activate(Vector3 pos, float radius, float amount) {
          ID = UnityEngine.Random.Range(0, 999999999);
          Position = pos;
          ZoneRadius = radius;
          RadiationAmount = amount;

          gameObject.name = $&quot;RadZone {ID}&quot;;
          transform.position = Position;
          transform.rotation = new Quaternion();
          UpdateCollider();
          gameObject.SetActive(true);
          enabled = true;

          var Rads = gameObject.GetComponent&lt;TriggerRadiation&gt;();
          Rads = Rads ?? gameObject.AddComponent&lt;TriggerRadiation&gt;();
          Rads.RadiationAmountOverride = RadiationAmount;
          Rads.radiationSize = ZoneRadius;
          Rads.interestLayers = playerLayer;
          Rads.enabled = true;

          if (IsInvoking(&quot;UpdateTrigger&quot;)) CancelInvoke(&quot;UpdateTrigger&quot;);
          InvokeRepeating(&quot;UpdateTrigger&quot;, 5f, 5f);
        }

        private void OnDestroy() {
          CancelInvoke(&quot;UpdateTrigger&quot;);
          Destroy(gameObject);
        }

        private void UpdateCollider() {
          var sphereCollider = gameObject.GetComponent&lt;SphereCollider&gt;();
          {
            if (sphereCollider == null) {
              sphereCollider = gameObject.AddComponent&lt;SphereCollider&gt;();
              sphereCollider.isTrigger = true;
            }
            sphereCollider.radius = ZoneRadius;
          }
        }
        private void UpdateTrigger()
        {
          InZone = new List&lt;BasePlayer&gt;();
          int entities = Physics.OverlapSphereNonAlloc(Position, ZoneRadius, colBuffer, playerLayer);
          for (var i = 0; i &lt; entities; i++) {
            var player = colBuffer[i].GetComponentInParent&lt;BasePlayer&gt;();
            if (player != null)
                InZone.Add(player);
          }
        }
      }
      #endregion
    }
};
</pre>
                                </div>Full plugin
                              </div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div>What are you using to write code at the moment? <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333651" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 1:22 PM">Jun 25, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333651" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333651/permalink">#18</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333652" class="message   " data-author="Squire">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Squire" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Squire</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> notepad++ but i do have VS <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Squire</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333652" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 1:27 PM">Jun 25, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333652" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333652/permalink">#19</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-333653" class="message   " data-author="Resistance">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Resistance" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Resistance</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> notepad++ you joking please ask one of the coders to help write it for you or you will be here all day <div
                          class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Resistance</a>,</span>
                        <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333653" title="Permalink" class="datePermalink"><span class="DateTime" title="Jun 25, 2017 at 1:31 PM">Jun 25, 2017</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/adding-a-cooldown-to-a-command.26051/#post-333653" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/333653/permalink">#20</a>
                    </div>
                  </div>
                </div>
              </li>
            </ol>
          </form>
          <div class="pageNavLinkGroup">
            <div class="linkGroup">
            </div>
            <div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>
            <div class="PageNav" data-page="1" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="{{sentinel}}" data-baseurl="threads/adding-a-cooldown-to-a-command.26051/page-{{sentinel}}">
              <nav>
                <a href="threads/adding-a-cooldown-to-a-command.26051/" class="currentPage " rel="start">1</a>
                <a href="threads/adding-a-cooldown-to-a-command.26051/page-2" class="">2</a>
                <a href="threads/adding-a-cooldown-to-a-command.26051/page-2" class="text">Next &gt;</a>
              </nav>
            </div>
          </div>
          <footer>
            <div class="footer">
              <div class="pageContent">
              </div>
              <span class="helper"></span>
              <ul class="footerLinks">
                <li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
              </ul>
              <span class="helper"></span>
            </div>
        </div>
        </footer>
      </div>
    </div>
  </div>
  <header>
    <div id="header">
      <div class="headerWidth">
        <div id="logoBlock">
          <div id="logo"><a href="https://oxidemod.org/">
              <span></span>
              <img src="styles/oxide/logo.png" alt="Oxide" />
            </a></div>
          <span class="helper"></span>
        </div>
        <div id="navigation" class="">
          <div class="pageContent">
            <nav>
              <div class="navTabs">
                <ul class="publicTabs">
                  <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>
                  </li>
                  <li class="navTab PopupClosed">
                    <a href="https://umod.org/documentation" class="navLink">Docs</a>
                  </li>
                  <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>
                  </li>
                  <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>
                  </li>
                  <li class="navTab selected">
                    <div class="tabLinks"></div>
                  </li>
                </ul>
              </div>
              <span class="helper"></span>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </header>
  </div>
  <script>
    jQuery.extend(true, XenForo, {
      visitor: {
        user_id: 0
      },
      serverTimeInfo: {
        now: 1548533152,
        today: 1548460800,
        todayDow: 6
      },
      _lightBoxUniversal: "0",
      _enableOverlays: "1",
      _animationSpeedMultiplier: "1",
      _overlayConfig: {
        top: "10%",
        speed: 200,
        closeSpeed: 100,
        mask: {
          color: "rgb(255, 255, 255)",
          opacity: "0.6",
          loadSpeed: 200,
          closeSpeed: 100
        }
      },
      _ignoredUsers: [],
      _loadedScripts: {
        "thread_view": true,
        "message": true,
        "bb_code": true,
        "message_user_info": true
      },
      _cookieConfig: {
        path: "/",
        domain: ".oxidemod.org",
        prefix: "ih_xfid_"
      },
      _csrfToken: "",
      _csrfRefreshUrl: "login/csrf-token-refresh",
      _jsVersion: "f33b43a2"
    });
    jQuery.extend(XenForo.phrases, {
      cancel: "Cancel",
      a_moment_ago: "A moment ago",
      one_minute_ago: "1 minute ago",
      x_minutes_ago: "%minutes% minutes ago",
      today_at_x: "Today at %time%",
      yesterday_at_x: "Yesterday at %time%",
      day_x_at_time_y: "%day% at %time%",
      day0: "Sunday",
      day1: "Monday",
      day2: "Tuesday",
      day3: "Wednesday",
      day4: "Thursday",
      day5: "Friday",
      day6: "Saturday",
      _months: "January,February,March,April,May,June,July,August,September,October,November,December",
      _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
      following_error_occurred: "The following error occurred",
      server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
      logging_in: "Logging in",
      click_image_show_full_size_version: "Click this image to show the full-size version.",
      show_hidden_content_by_x: "Show hidden content by {names}"
    });

  </script>
</body>

</html>
