<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Get vending machine owner with OnVendingTransaction...?</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Get vending machine owner with OnVendingTransaction...?" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/">Get vending machine owner with OnVendingTransaction...?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">Rebajas</a>, <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/"><span class="DateTime"
                title="Apr 7, 2017 at 4:57 PM">Apr 7, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-312914" class="message" data-author="Rebajas">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Rebajas" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Rebajas</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hiya,<br />
                        <br /> A quick question, does anyone know if you can get the owner name for a vending machine upon use?<br />
                        <br /> I tried:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>BasePlayer owner = machine.GetOwnerPlayer();</pre>
                        </div>But no dice. Just want to be able to send the player a message when someone makes a purchase...<br />
                        <br /> As always, thanks for any help in this matter <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" /><br />
                        <br />
                        <br /> T. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Rebajas</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Apr 7, 2017 at 4:57 PM">Apr 7, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/312914/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-312915" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> If you have IntelliSense setup in Visual Studio, it should show you the available options under
                        &quot;machine&quot; when typing it out. It will be available under it, though I do not have the name off hand. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312915" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 7, 2017 at 4:58 PM">Apr 7, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312915" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/312915/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-312917" class="message" data-author="Rebajas">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Rebajas" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Rebajas</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> I don&#039;t have Visual Studio, sorry. I just bumble around in a text editor... <img
                            src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Rebajas</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312917" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 7, 2017 at 5:05 PM">Apr 7, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312917" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/312917/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-312919" class="message" data-author="EnigmaticDragon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="EnigmaticDragon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">EnigmaticDragon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>BasePlayer owner = BasePlayer.FindByID(machine.OwnerID);</pre>
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">EnigmaticDragon</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312919" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 7, 2017 at 5:08 PM">Apr 7, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-312919" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/312919/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-313042" class="message" data-author="Rebajas">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Rebajas" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Rebajas</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hi EnigmaticDragon - that works great when the player checks their own vending machine but is coming up as empty
                        when I check someone elses - my code currently looks like this:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>            BasePlayer owner = BasePlayer.FindByID(machine.OwnerID);            if (owner != buyer) {                Puts(buyer + &quot; purchased something from a vending machine owned by &quot; + owner + &quot;.&quot;);            } else {                Puts(buyer + &quot; purchased something from their vending machine.&quot;);            }</pre>
                        </div>So it goes into the right code block but owner is empty in the string.<br />
                        <br /> Thanks <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Rebajas</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313042" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 8, 2017 at 11:46 AM">Apr 8, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313042" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/313042/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-313043" class="message" data-author="EnigmaticDragon">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="EnigmaticDragon" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">EnigmaticDragon</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Is the other player online? Because <i>BasePlayer.FindByID(ulong userID) </i>returns null, if the player
                        isn&#039;t online. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">EnigmaticDragon</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313043" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 8, 2017 at 12:27 PM">Apr 8, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313043" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/313043/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-313054" class="message" data-author="JoeSheep">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="JoeSheep" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">JoeSheep</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> As EnigmaticDragon said, if the player isn&#039;t online, you&#039;d not find the player. Either store the data
                        you need in a data file, or use a plugin like <a href="http://oxidemod.org/plugins/playerdatabase.1939/" class="internalLink">PlayerDatabase | Oxide</a> to do all the
                        information handling for you and call its hooks.<br />
                        <br /> Wulf mentioned Visual Studio and IntelliSense, extremely useful after setting up all your references so that you can easily look at what you can use when typing out your
                        code. You&#039;d need a copy of a Rust server on your computer (don&#039;t need to run it) and a copy of the most recent Oxide update. <div class="messageTextEndMarker">&nbsp;
                        </div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Apr 8, 2017 at 3:20 PM">Apr 8, 2017</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">JoeSheep</a>,</span>
                        <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313054" title="Permalink" class="datePermalink"><span
                                class="DateTime" title="Apr 8, 2017 at 2:54 PM">Apr 8, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/get-vending-machine-owner-with-onvendingtransaction.24832/#post-313054" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/313054/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
</ol>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
