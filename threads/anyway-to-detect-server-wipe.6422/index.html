<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Solved - Anyway to detect server wipe?</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Solved - Anyway to detect server wipe?" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="/threads/anyway-to-detect-server-wipe.6422/">Anyway to detect server wipe?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">NexusBR</a>, <a href="/threads/anyway-to-detect-server-wipe.6422/"><span class="DateTime" title="Jan 14, 2015 at 11:56 AM">Jan 14,
                2015</span></a>.
    </p>
</div>
<div class="pageNavLinkGroup">
    <div class="linkGroup SelectionCountContainer">
    </div>
    <div class="PageNav" data-page="1" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="" data-baseurl="threads/anyway-to-detect-server-wipe.6422/page-">
        <nav>
            <a href="/threads/anyway-to-detect-server-wipe.6422/" class="currentPage " rel="start">1</a>
            <a href="/threads/anyway-to-detect-server-wipe.6422/page-2" class="">2</a>
            <a href="/threads/anyway-to-detect-server-wipe.6422/page-2" class="text">Next &gt;</a>
        </nav>
    </div>
</div>
<ol class="messageList" id="messageList">
    <li id="post-60265" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">There is anyway to detect if the server was wipe, i mean a new world has been generated?<br /> Like if i delete
                        the /save/ folder or the files on the /save/ folder.<br />
                        <br /> Like a hook or library? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2015 at 11:56 AM">Jan 14, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60265/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60266" class="message" data-author="Mughisi">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Mughisi" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mughisi</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">The loading and saving is all handled by the SaveRestore class, this class does not offer any methods we can use
                        to check if a file exists which requires us to use the Systems.IO namespace for file operations (File.Exists). However we cannot use the Systems.IO namespace in Lua plugins so
                        I&#039;m afraid something like this is currently not possible (unless I missed something in the server files). <br />
                        <br /> Maybe someone could add a method to the Oxide Rust extension to check for the file or something and return true or false or something, as I can see the use of this to
                        restore players with certain items after a wipe, or do certain other plugin actions after a wipe. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60266" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2015 at 12:13 PM">Jan 14, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60266" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60266/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60298" class="message" data-author="Mr. Bubbles">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Mr. Bubbles" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mr. Bubbles</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I noticed the server generates a hash of the save file on startup. Any way we can access that information or add a
                        hook to do so? Then you could check to see if the hash generated matches the previous one, unless the hash changes depending on structures/save data other than the world
                        terrain information itself. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mr. Bubbles</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60298" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 14, 2015 at 5:59 PM">Jan 14, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60298" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60298/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60391" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">You can add hook to SaveRestore::Load <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60391" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 12:53 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60391" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60391/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60394" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I don&#039;t know that hook, And is not listed here: <a
                            href="https://github.com/OxideMod/Oxide/blob/master/hooks.txt" target="_blank" class="externalLink  rel="
                            nofollow">https://github.com/OxideMod/Oxide/blob/master/hooks.txt</a>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60394" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 1:14 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60394" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60394/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60397" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">You must do it with <a href="https://github.com/OxideMod/OxidePatcher" target="_blank" class="externalLink  rel="
                            nofollow">https://github.com/OxideMod/OxidePatcher</a> for example <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60397" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 1:45 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60397" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60397/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60398" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="t0pdevice">
                            <aside>
                                <div class="attribution type">t0pdevice said: <a href="#post-60397" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">You must do it with <a href="https://github.com/OxideMod/OxidePatcher" target="_blank" class="externalLink  rel="
                                            nofollow">https://github.com/OxideMod/OxidePatcher</a> for example</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I ran the Oxide 2 Patcher and it listed a lot of hooks, and none have anything to do with SaveRestore.<br />
                        <br /> Where exactly you saw that hook? And what is the hook name?<br />
                        <br /> Anyway by the way you described it, I don&#039;t think that it would help detect if the server was wiped anyway. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60398" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 1:59 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60398" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60398/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60399" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">This is a list of already made hooks.<br /> In the program, go to the Assemblies -&gt; Global -&gt; SaveRestore
                        (double click)<br /> In the new list, find and click on the &#039;public static void Load (string strFilename, bool allowOutOfDateSaves)&#039; then click button &#039;Hook This
                        Method&#039;.<br /> You need to change &#039;Hook Settings&#039;. Injection Index (line from MSIL Before) - the place where the method is to call the hook.<br /> Return
                        Behavior - i think for you it &#039;Continue&#039; and Argument Behaviour - All.<br /> Then press button &#039;Apply Changes&#039;. If it&#039;s ok then press &#039;Patch&#039;
                        button from menu. And restart server.<br /> Now you can hook it in plugin by &#039;Hook Name&#039;.<br />
                        <br /> P.S: This changes the Assembly-CSharp.dll, so that the plugin works on other servers must also replace their Assembly-CSharp.dll with a new one. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60399" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 2:19 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60399" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60399/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60405" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">So to i use that game hook, i need create a hook to patch the oxide to allow my plugin to use a custom hook.<br />
                        So would need distribute a custom oxide with the plugin, That does not seams very practical, And i would need to re-patch every time a oxide update is out. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60405" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 2:31 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60405" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60405/permalink">#9</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60406" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="t0pdevice">
                            <aside>
                                <div class="attribution type">t0pdevice said: <a href="#post-60399" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">P.S: This changes the Assembly-CSharp.dll, so that the plugin works on other servers must also replace their Assembly-CSharp.dll with a new one.
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Plugins shouldn&#039;t be distributing custom DLLs, and we generally do not allow that here. If a hook is PRed, we may pull it if it is appropriate. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60406" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 2:33 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60406" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60406/permalink">#10</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60408" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Indeed, that is not very viable.<br />
                        <br /> But would be a good thing if you guys gives us a way to detect if the server was wiped, Like a way to detect the date that the save was created or something like
                        that.<br />
                        <br /> A lot of plugins could be benefited if we could determinate if the server was wiped. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60408" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 2:36 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60408" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60408/permalink">#11</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60410" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">This is useful if you do only plugin for your server. Or you need to ask and wait for the new add hooks into Oxide
                        by its author. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60410" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 2:40 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60410" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60410/permalink">#12</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60466" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">So if we cant detect if the server was wiped, there is anyway to save a .txt file outside data folder and into
                        save folder? So we can emulate a server wipe detection. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60466" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 10:03 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60466" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60466/permalink">#13</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60467" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="NexusBR">
                            <aside>
                                <div class="attribution type">NexusBR said: <a href="#post-60466" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">So if we cant detect if the server was wiped, there is anyway to save a .txt file outside data folder and into save folder? So we can emulate a
                                        server wipe detection.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Not from a Lua plugin, but you could with a C# extension. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60467" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 10:06 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60467" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60467/permalink">#14</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60468" class="message" data-author="NexusBR">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="NexusBR" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">NexusBR</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
                            <aside>
                                <div class="attribution type">Wulf said: <a href="#post-60467" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Not from a Lua plugin, but you could with a C# extension.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>So back to dlls, Damn it. <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie3" alt=":(" title="Frown    :(" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">NexusBR</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60468" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 10:09 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60468" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60468/permalink">#15</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60471" class="message" data-author="Hatemail">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Hatemail" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Hatemail</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">does the server.seed or server.level fields change after a wipe? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Hatemail</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60471" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 10:18 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60471" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60471/permalink">#16</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60472" class="message staff" data-author="Wulf">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Wulf" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto" itemprop="name">Wulf</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Hatemail">
                            <aside>
                                <div class="attribution type">Hatemail said: <a href="#post-60471" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">does the server.seed or server.level fields change after a wipe?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Pretty sure there is a default seed, and most override that seed, so likely no for both. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60472" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 15, 2015 at 10:20 PM">Jan 15, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60472" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60472/permalink">#17</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60476" class="message" data-author="Mr. Bubbles">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Mr. Bubbles" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mr. Bubbles</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I&#039;m working on hooking SaveRestore::Load() at the moment. Right now, the hook looks like this in the
                        dll:<br />
                        <br /> Modified SaveRestore.Load() snippet:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>
  Save save = null;
try
{
     save = Save.Deserialize(buffer);
}
     catch (InvalidDataException)
{
     Debug.LogWarning(&quot;This save is incompatible. Sorry.&quot;);
     return;
}
Save arg_EB_0 = save;
Interface.CallHook(&quot;OnLoad&quot;, new object[]
{
     save
});
if (arg_EB_0.protocol != 20)
{
if (!allowOutOfDateSaves)
{
Debug.LogWarning(&quot;This save is from an older version - and is incompatible.. sorry!&quot;);
return;
}
Debug.LogWarning(&quot;This save is from an older (possibly incompatible) version!&quot;);
}
</pre>
                        </div>I&#039;m still working on the placement, but it gets passed &#039;save&#039; which is of type ProtoBuf.Save, so the save.worldchecksum string should be visible at that
                        point. If it works properly, I&#039;ll submit a PR for the hook.<br /> [DOUBLEPOST=1421376904,1421363724][/DOUBLEPOST]LOL. Just noticed that the current experimental version of
                        ProtoBuf.Save does NOT contain the worldchecksum string. I was using the latest dev version when I was at work earlier. Just got home and was taking a look at it using the
                        current non-dev version and it doesn&#039;t have that variable. OOPS! Well... I&#039;ll continue working on it once this dev version moves to the current release. Should be
                        pretty straightforward from there. Store the current world checksum in the plugin config by using the OnLoad hook I&#039;m working on and getting the string from
                        save.worldchecksum. If the checksum does not match the current World.checksum when the &quot;OnLoad&quot; hook is called, then the world data has changed (most likely meaning a
                        wipe due to incompatible versions). In the meantime, I don&#039;t really want to take the time to figure out another method when it is most likely going to become obsolete in
                        the very near future. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mr. Bubbles</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60476" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 2:55 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60476" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60476/permalink">#18</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60484" class="message" data-author="t0pdevice">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="t0pdevice" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">t0pdevice</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Сall in this place already load save world:<br /> UnityEngine.Debug.Log(&quot;Loading Save From &quot; +
                        strFilename);<br />
                        <br /> Hook after this line enough. Like &#039;OnLoadSuccessfully&#039; <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">t0pdevice</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60484" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 3:38 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60484" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60484/permalink">#19</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-60485" class="message" data-author="Mr. Bubbles">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Mr. Bubbles" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mr. Bubbles</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="t0pdevice">
                            <aside>
                                <div class="attribution type">t0pdevice said: <a href="#post-60484" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Сall in this place already load save world:<br /> UnityEngine.Debug.Log(&quot;Loading Save From &quot; + strFilename);<br />
                                        <br /> Hook after this line enough. Like &#039;OnLoadSuccessfully&#039;</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Like I mentioned above, the checksums are not available in the current version (not where I was looking for them anyway). It&#039;ll be much easier to do after the next
                        update and I&#039;ll submit a pull request for the oxide patcher at that time to get the hook added into the official version of Oxide so after that, custom hooks and custom
                        DLL&#039;s won&#039;t be necessary. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mr. Bubbles</a>,</span>
                        <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60485" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Jan 16, 2015 at 3:42 AM">Jan 16, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/anyway-to-detect-server-wipe.6422/#post-60485" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/60485/permalink">#20</a>
                </div>
            </div>
        </div>
    </li>
</ol>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="1" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="" data-baseurl="threads/anyway-to-detect-server-wipe.6422/page-">
        <nav>
            <a href="/threads/anyway-to-detect-server-wipe.6422/" class="currentPage " rel="start">1</a>
            <a href="/threads/anyway-to-detect-server-wipe.6422/page-2" class="">2</a>
            <a href="/threads/anyway-to-detect-server-wipe.6422/page-2" class="text">Next &gt;</a>
        </nav>
    </div>
</div>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
