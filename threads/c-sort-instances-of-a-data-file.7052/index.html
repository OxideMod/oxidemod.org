<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="https://oxidemod.org/" />
  <script> var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
  <title>Solved - [C#] Sort instances of a Data File | Oxide</title>
  <noscript>
    <style>.JsOnly, .jsOnly { display: none !important; }</style>
  </noscript>
  <link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548526345" />
  <link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548526345" />
  <script src="js/jquery/jquery-1.11.0.min.js"></script>
  <script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <meta name="mobile-web-app-capable" content="yes" />
  <link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
  <link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
  <link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
  <link rel="canonical" href="https://oxidemod.org/threads/c-sort-instances-of-a-data-file.7052/" />
  <meta name="description" content="Imagine the following code inside a plugin:


[spoiler]
//references
//various uses of namespaces

using DataHandling;

namespace Oxide.Plugins
{..." />
  <meta property="og:site_name" content="Oxide" />
  <meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
  <meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://oxidemod.org/threads/c-sort-instances-of-a-data-file.7052/" />
  <meta property="og:title" content="Solved - [C#] Sort instances of a Data File" />
  <meta property="og:description" content="Imagine the following code inside a plugin:


[spoiler]
//references
//various uses of namespaces

using DataHandling;

namespace Oxide.Plugins
{..." />
</head>

<body class="node4 node1 node104 node105 SelectQuotable">
  <div id="headerMover">
    <div id="headerProxy"></div>
    <div id="content" class="thread_view">
      <div class="pageWidth">
        <div class="pageContent">
          <div class="breadBoxTop ">
            <nav>
              <fieldset class="breadcrumb">
                <div class="boardTitle"><strong>Oxide</strong></div>
                <span class="crumbs">
                  <span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                  <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
                    <span class="arrow"><span>&gt;</span></span>
                  </span>
                </span>
              </fieldset>
            </nav>
          </div>
          <!-- h1 title, description -->
          <div class="titleBar">
            <h1>
              <span class="prefix prefixGreen">Solved</span> <a href="https://oxidemod.org/threads/c-sort-instances-of-a-data-file.7052/">[C#] Sort instances of a Data File</a>
            </h1>
            <p id="pageDescription" class="muted "> Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">TheRotAG</a>, <a href="threads/c-sort-instances-of-a-data-file.7052/"><span
                  class="DateTime" title="Feb 25, 2015 at 4:49 PM">Feb 25, 2015</span></a>. </p>
          </div>
          <div class="pageNavLinkGroup">
            <div class="linkGroup SelectionCountContainer">
            </div>
          </div>
          <form action="inline-mod/post/switch" method="post" class="InlineModForm section" data-cookieName="posts" data-controls="#InlineModControls" data-imodOptions="#ModerationSelect option">
            <ol class="messageList" id="messageList">
              <li id="post-69865" class="message   " data-author="TheRotAG">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheRotAG" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">TheRotAG</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Imagine the following code inside a plugin:<br />
                        <br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                          <div class="type">Code:</div>
                          <pre>
//references
//various uses of namespaces

using DataHandling;

namespace Oxide.Plugins
{
    [Info(&quot;TestPlugin&quot;, &quot;TheRotAG&quot;, &quot;1.0.0&quot;)]
    public class TestPlugin : RustPlugin
    {
        //...some other vars
        private List&lt;This&gt; genericList;
        private string ThisData = &quot;This_Data&quot;;
        private int getLastID { set; get; }

        //...some other voids/classes/etc...
        this.genericList = Interface.GetMod().DataFileSystem.ReadObject&lt;List&lt;This&gt;&gt;(this.ThisData);

       public void createThis(BasePlayer player, string name, string title)
       {     
            int sN = 1;
            foreach (This key in this.genericList)
            {
                if (key.id.Equals(sN))
                {
                    sN++;
                }
            }
            getLastID = sN;
            This records = new This();
            records.generate(getLastID, player, name, title);
       }

       //lots of other things that manages the Dafa File
     }
}

namespace DataHandling
{
    public class This
    {
        public string name { set; get; }
        public string title { set; get; }
        public int id { set; get; }

        public void generate(int id, BasePlayer someone, string title, string name)
        {
            this.id = id;
            this.someone = someone.userID.ToString();
            this.name = name;
            this.title = title;
        }
}</pre>
                        </div>This code will generate a data that will look like this:<br />
                        <br /> [<br /> {<br /> &quot;someone&quot;: &quot;76561190000000000&quot;,<br /> &quot;id&quot;: 1,<br /> &quot;name&quot;: &quot;foo&quot; ,<br /> &quot;title&quot;:
                        &quot;fox&quot;<br /> },<br /> {<br /> &quot;someone&quot;: &quot;76561191111111111&quot;,<br /> &quot;id&quot;: 3,<br /> &quot;name&quot;: &quot;bar&quot; ,<br />
                        &quot;title&quot;: &quot;dog&quot;<br /> },<br /> {<br /> &quot;someone&quot;: &quot;76561192222222222&quot;,<br /> &quot;id&quot;: 2,<br /> &quot;name&quot;:
                        &quot;lorem&quot;,<br /> &quot;title&quot;: &quot;ipsum&quot;<br /> }<br /> ]<br />
                        <br />
                        <br /> What I need is <b>sort</b> each instance by its <b>id</b>.<br />
                        <br /> The reason is because each record is inserted following the id++ order, but when we delete one instance by its id (e.g. <b>id 2</b>) and create another, my code will
                        compare all <b>ids</b> in the current order to elect the best <b>id</b> number to use. In the example data above, my code recognized that <b>id 1 </b>was already used, then
                        checked if <b>id 2</b> was free, since it wasn&#039;t there it created another instance with <b>id 2 </b>(the lorem ipsum one).<br />
                        <br /> Long history short, on my createThis class you will see that it checks all &quot;dictionaries&quot; (named <b>instances</b> by me before) until it finds a gap in the
                        ids, so since the new instance with <b>id 2</b> was created below the one with <b>id 3</b> (remember that <b>id 2</b> was deleted before, so that&#039;s why it was created
                        below <b>id 3</b> in the sequence), if I add another entry (instance) to the data file my logical comparison will fail by telling that <b>id 3</b> is free and will create a
                        second istance with id 3 as well.<br />
                        <br />
                        <b>i.e.</b> <b>from public void createThis</b><br /> int sN = 1;<br /> foreach (This key in this.genericList)<br /> {<br /> if (key.id.Equals(sN))<br /> {<br /> sN++;<br /> }<br />
                        }<br /> it will compare <i><b>id 3</b> </i>with <i><b>sN 2</b> </i>and since they are different it will claim that <i><b>id 3</b> </i>its free to use...<br />
                        <br /> If sort isn&#039;t the best option here, I accept other <b>id check</b> suggestions <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie7" alt=":p"
                          title="Stick Out Tongue    :p" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheRotAG</a>,</span>
                        <a href="threads/c-sort-instances-of-a-data-file.7052/" title="Permalink" class="datePermalink"><span class="DateTime" title="Feb 25, 2015 at 4:49 PM">Feb 25, 2015</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/c-sort-instances-of-a-data-file.7052/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/69865/permalink">#1</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-69867" class="message   " data-author="Hatemail">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Hatemail" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">Hatemail</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> What is the use case of the id on the class This (Which is terrible naming..), if the id is just so that it
                        easier to store you should just use the users steam64Id. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Hatemail</a>,</span>
                        <a href="threads/c-sort-instances-of-a-data-file.7052/#post-69867" title="Permalink" class="datePermalink"><span class="DateTime" title="Feb 25, 2015 at 5:03 PM">Feb 25, 2015</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/c-sort-instances-of-a-data-file.7052/#post-69867" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/69867/permalink">#2</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-69873" class="message   " data-author="TheRotAG">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="TheRotAG" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">TheRotAG</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Hatemail">
                          <aside>
                            <div class="attribution type">Hatemail said: <a href="goto/post?id=69867#post-69867" class="AttributionLink">&uarr;</a>
                            </div>
                            <blockquote class="quoteContainer">
                              <div class="quote">What is the use case of the id on the class This (Which is terrible naming..), if the id is just so that it easier to store you should just use the
                                users steam64Id.</div>
                              <div class="quoteExpand">Click to expand...</div>
                            </blockquote>
                          </aside>
                        </div><b>This</b> its just and Example, I don&#039;t use it on my code...<br />
                        <br /> Each user can have various IDs in the data file, so each instance from the same users contains his SteamID and a different ID (the way of identification of each
                        istance). The ID is a way to store the user&#039;s entered data to let other users reach it without knowing who entered. On my plugin those records NEEDS to be misterious to
                        users other than the owner... those &quot;other&quot; users will catch all IDs in a list and will take for their selves the ID they wish to have, that way when they
                        &quot;take&quot; that ID it is simply deleted from the data file, and how I don&#039;t want to store infinite IDs, I use the logical comparison to detect if a gap exists
                        between ids, so a freed id can be used.<br /> [DOUBLEPOST=1424912064,1424886803][/DOUBLEPOST]Ok, since I couldn&#039;t find a way to Sort my data, seems like that I need to
                        add another logical comparison, just to let the program confirm that the <b>sN</b> var isn&#039;t really equal any <b>id</b> on the data. <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">TheRotAG</a>,</span>
                        <a href="threads/c-sort-instances-of-a-data-file.7052/#post-69873" title="Permalink" class="datePermalink"><span class="DateTime" title="Feb 26, 2015 at 12:54 AM">Feb 26, 2015</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/c-sort-instances-of-a-data-file.7052/#post-69873" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/69873/permalink">#3</a>
                    </div>
                  </div>
                </div>
              </li>
              <li id="post-72946" class="message   " data-author="PedraozauM">
                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                  <div class="messageUserBlock ">
                    <div class="avatarHolder">
                      <span class="helper"></span>
                      <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="PedraozauM" /></a>
                    </div>
                    <h3 class="userText">
                      <a class="username" dir="auto">PedraozauM</a>
                    </h3>
                    <span class="arrow"><span></span></span>
                  </div>
                </div>
                <div class="messageInfo primaryContent">
                  <div class="messageContent">
                    <article>
                      <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Ok first of all I suggest you to a dictionary instead of list for better indexing, I recommend indexing the id
                        as an int.<br /> So it would become: Dictionary&lt;int,This&gt; but inside This there would not be the id anymore.<br />
                        <br /> If you want to sort a list you can do that with this lambda expression:<br /> List.Sort((firstPair,nextPair) =&gt; { return
                        ((int)firstPair.Value).CompareTo((int)(nextPair.Value)) ; } );<br />
                        <br /> To sort a Dictionary you can use the method OrderBy with the above expressions, just changing to what you need, or you can call .ToList() and then use the above to.<br />
                        <br /> Source: <a href="http://stackoverflow.com/questions/289/how-do-you-sort-a-dictionary-by-value" target="_blank" class="externalLink  rel=" nofollow">http://stackoverflow.com/questions/289/how-do-you-sort-a-dictionary-by-value</a><br />
                        <br /> Hope it helps! <div class="messageTextEndMarker">&nbsp;</div>
                      </blockquote>
                    </article>
                  </div>
                  <div class="messageMeta ToggleTriggerAnchor">
                    <div class="privateControls">
                      <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">PedraozauM</a>,</span>
                        <a href="threads/c-sort-instances-of-a-data-file.7052/#post-72946" title="Permalink" class="datePermalink"><span class="DateTime" title="Mar 15, 2015 at 10:47 AM">Mar 15, 2015</span></a>
                      </span>
                    </div>
                    <div class="publicControls">
                      <a href="threads/c-sort-instances-of-a-data-file.7052/#post-72946" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/72946/permalink">#4</a>
                    </div>
                  </div>
                </div>
              </li>
            </ol>
          </form>
          <div class="pageNavLinkGroup">
            <div class="linkGroup">
            </div>
            <div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>
          </div>
          <footer>
            <div class="footer">
              <div class="pageContent">
              </div>
              <span class="helper"></span>
              <ul class="footerLinks">
                <li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
              </ul>
              <span class="helper"></span>
            </div>
        </div>
        </footer>
      </div>
    </div>
  </div>
  <header>
    <div id="header">
      <div class="headerWidth">
        <div id="logoBlock">
          <div id="logo"><a href="https://oxidemod.org/">
              <span></span>
              <img src="styles/oxide/logo.png" alt="Oxide" />
            </a></div>
          <span class="helper"></span>
        </div>
        <div id="navigation" class="">
          <div class="pageContent">
            <nav>
              <div class="navTabs">
                <ul class="publicTabs">
                  <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>
                  </li>
                  <li class="navTab PopupClosed">
                    <a href="https://umod.org/documentation" class="navLink">Docs</a>
                  </li>
                  <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>
                  </li>
                  <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                    <a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>
                  </li>
                  <li class="navTab selected">
                    <div class="tabLinks"></div>
                  </li>
                </ul>
              </div>
              <span class="helper"></span>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </header>
  </div>
  <script>
    jQuery.extend(true, XenForo, {
      visitor: {
        user_id: 0
      },
      serverTimeInfo: {
        now: 1548533119,
        today: 1548460800,
        todayDow: 6
      },
      _lightBoxUniversal: "0",
      _enableOverlays: "1",
      _animationSpeedMultiplier: "1",
      _overlayConfig: {
        top: "10%",
        speed: 200,
        closeSpeed: 100,
        mask: {
          color: "rgb(255, 255, 255)",
          opacity: "0.6",
          loadSpeed: 200,
          closeSpeed: 100
        }
      },
      _ignoredUsers: [],
      _loadedScripts: {
        "thread_view": true,
        "message": true,
        "bb_code": true,
        "message_user_info": true
      },
      _cookieConfig: {
        path: "/",
        domain: ".oxidemod.org",
        prefix: "ih_xfid_"
      },
      _csrfToken: "",
      _csrfRefreshUrl: "login/csrf-token-refresh",
      _jsVersion: "f33b43a2"
    });
    jQuery.extend(XenForo.phrases, {
      cancel: "Cancel",
      a_moment_ago: "A moment ago",
      one_minute_ago: "1 minute ago",
      x_minutes_ago: "%minutes% minutes ago",
      today_at_x: "Today at %time%",
      yesterday_at_x: "Yesterday at %time%",
      day_x_at_time_y: "%day% at %time%",
      day0: "Sunday",
      day1: "Monday",
      day2: "Tuesday",
      day3: "Wednesday",
      day4: "Thursday",
      day5: "Friday",
      day6: "Saturday",
      _months: "January,February,March,April,May,June,July,August,September,October,November,December",
      _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
      following_error_occurred: "The following error occurred",
      server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
      logging_in: "Logging in",
      click_image_show_full_size_version: "Click this image to show the full-size version.",
      show_hidden_content_by_x: "Show hidden content by {names}"
    });

  </script>
</body>

</html>
