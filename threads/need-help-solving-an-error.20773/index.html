<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	
		<base href="https://oxidemod.org/" />
		<script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
	

	<title>Solved - Need help solving an error | Oxide</title>
	
	<noscript><style>.JsOnly, .jsOnly { display: none !important; }</style></noscript>
	<link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548698830" />
	<link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548698830" />
	
	

	
		<script src="js/jquery/jquery-1.11.0.min.js"></script>	
		
	<script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<meta name="mobile-web-app-capable" content="yes" />
<link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
<link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
	<link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
		
	
	<link rel="canonical" href="https://oxidemod.org/threads/need-help-solving-an-error.20773/" />
	<meta name="description" content="Hi all.

I am unable to solve this error, I am checking for Null and cancelling if possible but still nothing, The error is:
[Oxide] 13:27 [Error]..." />	<meta property="og:site_name" content="Oxide" />
	<meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
	<meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://oxidemod.org/threads/need-help-solving-an-error.20773/" />
	<meta property="og:title" content="Solved - Need help solving an error" />
	<meta property="og:description" content="Hi all.

I am unable to solve this error, I am checking for Null and cancelling if possible but still nothing, The error is:
[Oxide] 13:27 [Error]..." />
	
	
	

</head>

<body class="node4 node1 node104 node105 SelectQuotable">




<div id="headerMover">
	<div id="headerProxy"></div>

<div id="content" class="thread_view">
	<div class="pageWidth">
		<div class="pageContent">
			
			
			

			

			
			
				<div class="breadBoxTop ">
					
					

<nav>
	
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	

	<fieldset class="breadcrumb">			
		<div class="boardTitle"><strong>Oxide</strong></div>
		
		<span class="crumbs">
			
				

					
						<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
							<span class="arrow"><span>&gt;</span></span>
						</span>
					

					
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
					
				
			
		</span>
	</fieldset>
</nav>
				</div>
			
			
	
			



			
				

						
			
			
			
						
						
													
								<!-- h1 title, description -->
								<div class="titleBar">
									
									<h1>
										
											
												<span class="prefix prefixGreen">Solved</span> <a href="https://oxidemod.org/threads/need-help-solving-an-error.20773/">Need help solving an error</a>
											
										
									</h1>

									<p id="pageDescription" class="muted ">
	Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">Alphawar</a>, <a href="threads/need-help-solving-an-error.20773/"><span class="DateTime" title="Sep 3, 2016 at 1:14 PM">Sep 3, 2016</span></a>.
</p>
								</div>
							
						
						
						
						

						

	

























	




<div class="pageNavLinkGroup">
	<div class="linkGroup SelectionCountContainer">
		
		
	</div>

	
</div>






<form action="inline-mod/post/switch" method="post"
	class="InlineModForm section"
	data-cookieName="posts"
	data-controls="#InlineModControls"
	data-imodOptions="#ModerationSelect option">

	<ol class="messageList" id="messageList">
		
			
				


<li id="post-248230" class="message   " data-author="Alphawar">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Alphawar" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Alphawar</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Hi all.<br />
<br />
I am unable to solve this error, I am checking for Null and cancelling if possible but still nothing, The error is:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>[Oxide] 13:27 [Error] Failed to call hook 'OnXpEarn' on plugin 'PvXselector v0.9.3' (NullReferenceException: Object reference not set to an instance of an object)
[Oxide] 13:27 [Debug]   at BasePlayer.get_ExperienceLevel () [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.OnXpEarn (UInt64 _userID, Single _xpValue, System.String source) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.DirectCallHook (System.String name, System.Object&amp; ret, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.CSharpPlugin.InvokeMethod (HookMethod method, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.CSPlugin.OnCallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.Plugin.CallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
[Oxide] 13:27 [Error] Failed to call hook 'OnXpEarn' on plugin 'PvXselector v0.9.3' (NullReferenceException: Object reference not set to an instance of an object)
[Oxide] 13:27 [Debug]   at BasePlayer.get_ExperienceLevel () [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.OnXpEarn (UInt64 _userID, Single _xpValue, System.String source) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.DirectCallHook (System.String name, System.Object&amp; ret, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.CSharpPlugin.InvokeMethod (HookMethod method, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.CSPlugin.OnCallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.Plugin.CallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
[Oxide] 13:27 [Error] Failed to call hook 'OnXpEarn' on plugin 'PvXselector v0.9.3' (NullReferenceException: Object reference not set to an instance of an object)
[Oxide] 13:27 [Debug]   at BasePlayer.get_ExperienceLevel () [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.OnXpEarn (UInt64 _userID, Single _xpValue, System.String source) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.PvXselector.DirectCallHook (System.String name, System.Object&amp; ret, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Plugins.CSharpPlugin.InvokeMethod (HookMethod method, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.CSPlugin.OnCallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0
  at Oxide.Core.Plugins.Plugin.CallHook (System.String name, System.Object[] args) [0x00000] in &lt;filename unknown&gt;:0 </pre>
</div>The Code causing it is:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>        object OnXpEarn(ulong _userID, float _xpValue, string source){
            if (_userID == 0) return _xpValue;
            if (isNPC(_userID)) return _xpValue;
            BasePlayer _player = basePlayerByID(_userID);
            if (_player == null) return (_xpValue*0);
            if (isplayerNA(_userID)){
                if(_player.IsConnected())
                LangMSG(_player, &quot;NoXPModeNA&quot;);
                return 0f;}
            if ((_player.ExperienceLevel &lt; PvECap) &amp;&amp; (InfoCache[_userID].mode == &quot;pve&quot;))
                return _xpValue * XPMultPerm(_player);
            else if ((_player.ExperienceLevel &lt; PvPCap) &amp;&amp; (InfoCache[_userID].mode == &quot;pvp&quot;))
                return _xpValue * XPMultPerm(_player);
            else return 0f;}</pre>
</div>I have tried everything I can think of, this error only seems to be caused on one server and after I see that error I find the Compiler is bugged, Not sure if they are related or if it crashes due to the massive amount of Debug spam from this error (im taling about 300 lines of that error message).<br />
<br />
The admin believes it is caused from the XP share from crafting or something.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Alphawar</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 1:14 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248230/permalink">#1</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248234" class="message   " data-author="sqroot">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="sqroot" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">sqroot</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Firstly, you should really format your code properly.<br />
Secondly, _player.xp is likely null.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">sqroot</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248234" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 1:42 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248234" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248234/permalink">#2</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248239" class="message  staff " data-author="Wulf">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="{{ '/assets/styles/oxide/logo.og.png' | prepend: site.baseurl }}" width="96" height="96" alt="Wulf" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto" itemprop="name">Wulf</a>
			<em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="sqroot">
	<aside>
		
			<div class="attribution type">sqroot said:
				
					<a href="goto/post?id=248234#post-248234" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Firstly, you should really format your code properly.<br />
Secondly, _player.xp is likely null.</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Or is it _player.ExperienceLevel like the error suggests?
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Wulf</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248239" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 1:51 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248239" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248239/permalink">#3</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248245" class="message   " data-author="sqroot">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="sqroot" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">sqroot</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Wulf">
	<aside>
		
			<div class="attribution type">Wulf said:
				
					<a href="goto/post?id=248239#post-248239" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Or is it _player.ExperienceLevel like the error suggests?</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>The error suggests that the error occurs in BasePlayer.get_ExperienceLevel. .get_ExperienceLevel (as such, the .ExperienceLevel property) is actually just a function that calculates something (and yes, this is bullshit, because properties shouldn&#039;t be used for functions that calculate things), and that function uses BasePlayer.xp.<br />
ExperienceLevel is not a property that can be null, it&#039;s a function that returns an int (and ints cannot be null either!).
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">sqroot</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248245" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 2:06 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248245" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248245/permalink">#4</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248259" class="message   " data-author="Alphawar">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Alphawar" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Alphawar</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="sqroot">
	<aside>
		
			<div class="attribution type">sqroot said:
				
					<a href="goto/post?id=248234#post-248234" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Firstly, you should really format your code properly.</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Feel free to make and recommendations, I only started doing this as a hobby and have very little knowledge, I dont event do this as a career. I work well I guess in Sales.<br />
<br />



<div class="bbCodeBlock bbCodeQuote" data-author="sqroot">
	<aside>
		
			<div class="attribution type">sqroot said:
				
					<a href="goto/post?id=248245#post-248245" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">The error suggests that the error occurs in BasePlayer.get_ExperienceLevel. .get_ExperienceLevel (as such, the .ExperienceLevel property) is actually just a function that calculates something (and yes, this is bullshit, because properties shouldn&#039;t be used for functions that calculate things), and that function uses BasePlayer.xp.<br />
ExperienceLevel is not a property that can be null, it&#039;s a function that returns an int (and ints cannot be null either!).</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>This entire statement made 0 sense to me, I am sorry but I dont understand what you mean.<br />
<br />
I think K1llY0u may have provided a solution:<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>        object OnXpEarn(ulong _userID, float _xpValue, string source) {
            if (_userID == 0) return _xpValue;
            if (isNPC(_userID)) return _xpValue;
            if (isplayerNA(_userID)) return 0f;
            BasePlayer _player = basePlayerByID(_userID);
            if (_player == null) return _xpValue;
            var agent = GetPlayerLevel(_userID);
            if (agent != null){
                if (((isPvP(_userID)) &amp;&amp; ((int)agent &lt; PvPCap)) || ((isPvE(_userID)) &amp;&amp; ((int)agent &lt; PvECap)))
                    return _xpValue * XPMultPerm(_player);
                else return 0f;}
            else return 0f;}

        private object GetPlayerLevel(ulong _ID){
            var agent = BasePlayer.FindXpAgent(_ID);
            if (agent != null){
                return Math.Floor(agent.CurrentLevel);}
            return null;}</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Alphawar</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248259" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 2:37 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248259" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248259/permalink">#5</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248278" class="message   " data-author="sqroot">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="sqroot" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">sqroot</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Alphawar">
	<aside>
		
			<div class="attribution type">Alphawar said:
				
					<a href="goto/post?id=248259#post-248259" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">Feel free to make and recommendations, I only started doing this as a hobby and have very little knowledge, I dont event do this as a career. I work well I guess in Sales.<br />
<br />
<br />
This entire statement made 0 sense to me, I am sorry but I dont understand what you mean.<br />
<br />
I think K1llY0u may have provided a solution:<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>        object OnXpEarn(ulong _userID, float _xpValue, string source) {
            if (_userID == 0) return _xpValue;
            if (isNPC(_userID)) return _xpValue;
            if (isplayerNA(_userID)) return 0f;
            BasePlayer _player = basePlayerByID(_userID);
            if (_player == null) return _xpValue;
            var agent = GetPlayerLevel(_userID);
            if (agent != null){
                if (((isPvP(_userID)) &amp;&amp; ((int)agent &lt; PvPCap)) || ((isPvE(_userID)) &amp;&amp; ((int)agent &lt; PvECap)))
                    return _xpValue * XPMultPerm(_player);
                else return 0f;}
            else return 0f;}

        private object GetPlayerLevel(ulong _ID){
            var agent = BasePlayer.FindXpAgent(_ID);
            if (agent != null){
                return Math.Floor(agent.CurrentLevel);}
            return null;}</pre>
</div></div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div><a href="https://msdn.microsoft.com/en-us/library/ff926074.aspx" target="_blank" class="externalLink  rel="nofollow">C# Coding Conventions (C# Programming Guide)</a><br />
Checking agent != null should roughly be the same as checking .xp != null, so yeah, that might solve the issue.<br />
That message was a reply to Wulf&#039;s statement that .ExperienceLevel itself might be null, he&#039;ll know what I mean <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" /><br />
Basically, the BasePlayer that causes the error has a null xp agent. Under the covers, _player.ExperienceLevel accesses that xp agent, and because it&#039;s null, it throws an error.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">sqroot</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248278" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 3:07 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248278" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248278/permalink">#6</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-248280" class="message   " data-author="Alphawar">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Alphawar" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Alphawar</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="sqroot">
	<aside>
		
			<div class="attribution type">sqroot said:
				
					<a href="goto/post?id=248278#post-248278" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote"><a href="https://msdn.microsoft.com/en-us/library/ff926074.aspx" target="_blank" class="externalLink  rel="nofollow">C# Coding Conventions (C# Programming Guide)</a><br />
Checking agent != null should roughly be the same as checking .xp != null, so yeah, that might solve the issue.<br />
That message was a reply to Wulf&#039;s statement that .ExperienceLevel itself might be null, he&#039;ll know what I mean <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" /><br />
Basically, the BasePlayer that causes the error has a null xp agent. Under the covers, _player.ExperienceLevel accesses that xp agent, and because it&#039;s null, it throws an error.</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Thank you.<br />
I will try to follow coding conventions as much as possible, as I am normally coding when I should be sleeping and on a small screen I have been trying to make it as compact as possible.<br />
Again thanks.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Alphawar</a>,</span>
					<a href="threads/need-help-solving-an-error.20773/#post-248280" title="Permalink" class="datePermalink"><span class="DateTime" title="Sep 3, 2016 at 3:16 PM">Sep 3, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/need-help-solving-an-error.20773/#post-248280" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/248280/permalink">#7</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
		
	</ol>

	

	

</form>


	<div class="pageNavLinkGroup">
		
			
				<div class="linkGroup">
					
				</div>
			
			<div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>

			
		
	</div>












	


												
												
					
			
						
			
						
			


			<footer>
				


<div class="footer">
		<div class="pageContent">
			
            
            
            </div>
			
		
			
			
			<span class="helper"></span>
			<ul class="footerLinks">
			
				
				<li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
				
				
				<li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
			
			</ul>
			
			<span class="helper"></span>
		</div>
</div>

			</footer>
		</div>
	</div>
</div>

<header>
	


<div id="header">
	<div class="headerWidth">
		<div id="logoBlock">
			
			
			<div id="logo"><a href="https://oxidemod.org/">
				<span></span>
				<img src="styles/oxide/logo.png" alt="Oxide" />
			</a></div>
			
			
			<span class="helper"></span>

</div>
		


<div id="navigation" class="">
	<div class="pageContent">
		<nav>
			<div class="navTabs">
				<ul class="publicTabs">

					
					

					
					

					
					
						<li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
							<a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>

							
						</li>
					

					<li class="navTab PopupClosed">
	<a href="https://umod.org/documentation" class="navLink">Docs</a>
</li>


					
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>

							
						</li>
						
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>

							
						</li>
						
					
					

					
					

					
					

					
					<li class="navTab selected"><div class="tabLinks"></div></li>
				</ul>

				
				
			</div>

			<span class="helper"></span>
		</nav>
	</div>
</div>
	</div>
</div>

	
	
</header>

</div>

<script>


jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1548833474,
		today: 1548806400,
		todayDow: 3
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(255, 255, 255)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"thread_view":true,"message":true,"bb_code":true,"message_user_info":true},
	_cookieConfig: { path: "/", domain: ".oxidemod.org", prefix: "ih_xfid_"},
	_csrfToken: "",
	_csrfRefreshUrl: "login/csrf-token-refresh",
	_jsVersion: "f33b43a2"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});




</script>




</body>
</html>