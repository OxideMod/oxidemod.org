<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Changing building health?</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Changing building health?" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <a href="/threads/changing-building-health.25233/">Changing building health?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">Chaiker</a>, <a href="/threads/changing-building-health.25233/"><span class="DateTime" title="May 1, 2017 at 12:22 PM">May 1, 2017</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-319925" class="message" data-author="Chaiker">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Chaiker" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Chaiker</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Hello. I have a problem with get building health.<br /> I want say in chat like some &quot;/setinv&quot; and click
                        by some building, and change health to 999999 (like invulnerable)<br />
                        <br /> I know how create chat cmd, get object by raycast. But i don&#039;t know which component response for building health.<br />
                        <br /> Anyone know i can do this?<br />
                        <br /> p.s. building = entity was created by building plan <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Chaiker</a>,</span>
                        <a href="/threads/changing-building-health.25233/" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 12:22 PM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319925/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-319960" class="message" data-author="Xianith">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Xianith" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Xianith</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Use a decompiler to check the BaseEntity. I think there&#039;s a setHealth and setStartHealth. I&#039;ll check
                        later today but that should get you started. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Xianith</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-319960" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 3:19 PM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-319960" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319960/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-319993" class="message" data-author="Chaiker">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Chaiker" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Chaiker</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Xianith">
                            <aside>
                                <div class="attribution type">Xianith said: <a href="#post-319960" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Use a decompiler to check the BaseEntity. I think there&#039;s a setHealth and setStartHealth. I&#039;ll check later today but that should get
                                        you started.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Thank you.<br /> I don&#039;t see that HitInfo has extension with method GetEntity. Now i can change health, and it works. But when i try to change max health, it not
                        changed. And when entity take damage, health is clamped, and it return to max health value. There&#039;s one method InitializeHealth(float health, float maxHealth); but max
                        health don&#039;t change.<br /> I use dot peek for decompile. <br /> In result i use take damage hook for scale damage to zero. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Chaiker</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-319993" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 4:40 PM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-319993" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319993/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-319997" class="message" data-author="Xianith">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Xianith" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Xianith</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Dunno if this&#039;ll help with raycast and what not but I have a plugin that sets HP of the parent object and an
                        attached object that is spawned immediately after the parent object spawns like so:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>parent.GetComponent&lt;BaseCombatEntity&gt;().health = 50;
            ent.GetComponent&lt;BaseCombatEntity&gt;().startHealth = 50;            ent.UpdateNetworkGroup();
            ent.SendNetworkUpdateImmediate();            ent.Spawn();</pre>
                        </div>Hopefully someone can correct me if I&#039;m wrong but I don&#039;t think you can set max health and have it display correclty. The ent I&#039;m using has like 500 max
                        hp, but when you spawn it it it has 50/500 and acts normally.<br />
                        <br /> I wish I could set the max HP but I&#039;ve been messing around with it and it doesn&#039;t seem possible as I think the client handles the display of max hp. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Xianith</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-319997" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 1, 2017 at 5:08 PM">May 1, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-319997" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/319997/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-320502" class="message" data-author="Skipcast">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Skipcast" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Skipcast</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">The max entity health is decided from the max health of the current building grade of the building block. This
                        means you have to set the max health on the current building grade. An example of setting the current building grade&#039;s health would be:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>var buildingBlock = (BuildingBlock)baseEntity;
buildingBlock.currentGrade.gradeBase.baseHealth = 50;
buildingBlock.SendNetworkUpdate();
// OR buildingBlock.Spawn() if it hasn't been spawned yet, you shouldn't call SendNetworkUpdate on an entity that hasn't spawned yet.
</pre>
                        </div>This way the building block would be repaired to the new max health as well.<br />
                        <br /> It would still show the default max health on the client, there&#039;s not anything you can do about that unfortunately.<br />
                        <br /> Additionally it does not save to the new max health so you would have to set the max health on server startup manually if it&#039;s supposed to be persistent. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Skipcast</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-320502" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 3, 2017 at 10:28 AM">May 3, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-320502" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/320502/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-322642" class="message" data-author="unborn1980">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="unborn1980" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">unborn1980</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Not easier using zone menager and simoly by command set god mode to building you wish ? <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">unborn1980</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-322642" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 9, 2017 at 10:00 AM">May 9, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-322642" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/322642/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-322943" class="message" data-author="SomethingFishy">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="SomethingFishy" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">SomethingFishy</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I was able to change magic hammer to create walls with more health. I was able to make them cost more and have
                        more hp... hoping to limit how big bases needed to be (quality over quantity). Didn&#039;t really make it into production... players seemed to be too stupid to understand this
                        change. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">SomethingFishy</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-322943" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="May 10, 2017 at 3:53 PM">May 10, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-322943" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/322943/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-367846" class="message" data-author="Enivoke">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Enivoke" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Enivoke</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">I want a plugin like this but instead of having the building to be god mode which you can do with zone manager, I
                        want to set a higher health than usual and if that is complicated, have it so you can make an area (with zone manager or something) to take less damage while inside. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Enivoke</a>,</span>
                        <a href="/threads/changing-building-health.25233/#post-367846" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Nov 19, 2017 at 1:40 PM">Nov 19, 2017</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/changing-building-health.25233/#post-367846" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/367846/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
