<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar RunDeferred Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	
		<base href="https://oxidemod.org/" />
		<script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
	

	<title>Solved - MySQL multi-value insert using prepared statements | Oxide</title>
	
	<noscript><style>.JsOnly, .jsOnly { display: none !important; }</style></noscript>
	<link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548544754" />
	<link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548544754" />
	
	

	
		<script src="js/jquery/jquery-1.11.0.min.js"></script>	
		
	<script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<meta name="mobile-web-app-capable" content="yes" />
<link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
<link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
	<link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
		
	
	<link rel="canonical" href="https://oxidemod.org/threads/mysql-multi-value-insert-using-prepared-statements.10058/" />
	<meta name="description" content="I would suggest to add such feature as multi-value inserts using prepared statements.
So instead of executing 500 queries: INSERT INTO `table` VALUES..." />	<meta property="og:site_name" content="Oxide" />
	<meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
	<meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://oxidemod.org/threads/mysql-multi-value-insert-using-prepared-statements.10058/" />
	<meta property="og:title" content="Solved - MySQL multi-value insert using prepared statements" />
	<meta property="og:description" content="I would suggest to add such feature as multi-value inserts using prepared statements.
So instead of executing 500 queries: INSERT INTO `table` VALUES..." />
	
	
	

</head>

<body class="node4 node1 node104 node105 SelectQuotable">




<div id="headerMover">
	<div id="headerProxy"></div>

<div id="content" class="thread_view">
	<div class="pageWidth">
		<div class="pageContent">
			
			
			

			

			
			
				<div class="breadBoxTop ">
					
					

<nav>
	
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	

	<fieldset class="breadcrumb">			
		<div class="boardTitle"><strong>Oxide</strong></div>
		
		<span class="crumbs">
			
				

					
						<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
							<span class="arrow"><span>&gt;</span></span>
						</span>
					

					
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
					
				
			
		</span>
	</fieldset>
</nav>
				</div>
			
			
	
			



			
				

						
			
			
			
						
						
													
								<!-- h1 title, description -->
								<div class="titleBar">
									
									<h1>
										
											
												<span class="prefix prefixGreen">Solved</span> <a href="https://oxidemod.org/threads/mysql-multi-value-insert-using-prepared-statements.10058/">MySQL multi-value insert using prepared statements</a>
											
										
									</h1>

									<p id="pageDescription" class="muted ">
	Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">VVoid</a>, <a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/"><span class="DateTime" title="Jul 7, 2015 at 10:37 PM">Jul 7, 2015</span></a>.
</p>
								</div>
							
						
						
						
						

						

	

























	




<div class="pageNavLinkGroup">
	<div class="linkGroup SelectionCountContainer">
		
		
	</div>

	
</div>






<form action="inline-mod/post/switch" method="post"
	class="InlineModForm section"
	data-cookieName="posts"
	data-controls="#InlineModControls"
	data-imodOptions="#ModerationSelect option">

	<ol class="messageList" id="messageList">
		
			
				


<li id="post-106465" class="message   " data-author="VVoid">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="VVoid" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">VVoid</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I would suggest to add such feature as multi-value inserts using prepared statements.<br />
So instead of executing 500 queries: 

<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>INSERT INTO `table` VALUES (...);</pre>
</div>We can execute just one with 500 values: 

<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>INSERT INTO `table` VALUES (...), (...), (...), (...), (...), ...;</pre>
</div>This is extremely useful when working with big data, takes much less time and consumes less resources.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">VVoid</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 7, 2015 at 10:37 PM">Jul 7, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106465/permalink">#1</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-106567" class="message   " data-author="SweetLouHD">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="SweetLouHD" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">SweetLouHD</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					correct me if i am wrong but if you are just talking about something that is normally handled in a single Sql statement then it should be possible right now.<br />
<br />
C# Code<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>private readonly Ext.MySql.Libraries.MySql mySql = Interface.GetMod().GetLibrary&lt;Ext.MySql.Libraries.MySql&gt;();
private Ext.MySql.Connection MySqlConnection;
MySqlConnection = mySql.OpenDb(dbHost, dbPort, dbName, dbUsername, dbPassword);
Sql sql = new Sql(&quot;INSERT INTO `table` VALUES (...), (...), (...), (...), (...), ...&quot;);
mySql.Insert(sql, MySqlConnection);</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">SweetLouHD</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106567" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 8, 2015 at 9:42 AM">Jul 8, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106567" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106567/permalink">#2</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-106581" class="message   " data-author="VVoid">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="VVoid" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">VVoid</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="SweetLouHD">
	<aside>
		
			<div class="attribution type">SweetLouHD said:
				
					<a href="goto/post?id=106567#post-106567" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">correct me if i am wrong but if you are just talking about something that is normally handled in a single Sql statement then it should be possible right now.<br />
<br />
C# Code<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>private readonly Ext.MySql.Libraries.MySql mySql = Interface.GetMod().GetLibrary&lt;Ext.MySql.Libraries.MySql&gt;();
private Ext.MySql.Connection MySqlConnection;
MySqlConnection = mySql.OpenDb(dbHost, dbPort, dbName, dbUsername, dbPassword);
Sql sql = new Sql(&quot;INSERT INTO `table` VALUES (...), (...), (...), (...), (...), ...&quot;);
mySql.Insert(sql, MySqlConnection);</pre>
</div></div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>It&#039;s possible, of course. But the developer is still must build the query string.<br />
<br />
Just for an example, how such thing would look on Java. Not sure that something similar are present in .NET.<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>PreparedStatement st = con.prepareStatement(&quot;INSERT INTO `logging` VALUES (?,?,?,?);&quot;);
Log log;
while ((log = _logPool.poll()) != null)
{
    st.setString(1, log.date);
    st.setShort(2, log.type);
    st.setShort(3, log.id);
    st.setInt(4, log.info);
    st.addBatch();
}
st.executeBatch();
st.close();</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">VVoid</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106581" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 8, 2015 at 12:07 PM">Jul 8, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106581" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106581/permalink">#3</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-106601" class="message   " data-author="Nogrod">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Nogrod" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Nogrod</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					One of my test plugins, if it will help you:<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>// Reference: Oxide.Ext.MySql

using System.Text;

using Oxide.Core;

namespace Oxide.Plugins
{
    [Info(&quot;MySqlTest&quot;, &quot;Nogrod&quot;, &quot;1.0.0&quot;)]
    internal class MySqlTest : RustPlugin
    {
        private readonly Ext.MySql.Libraries.MySql _mySql = Interface.GetMod().GetLibrary&lt;Ext.MySql.Libraries.MySql&gt;();
        private Ext.MySql.Connection _mySqlConnection;
        private const string InsertData = &quot;INSERT INTO example (`data`, `data_other`) VALUES (@0, @1);&quot;;
        private const string SelectData = &quot;SELECT `id`, `data`, `data_other` FROM example;&quot;;

        private void OnServerInitialized()
        {
            _mySqlConnection = _mySql.OpenDb(&quot;localhost&quot;, 3306, &quot;rust&quot;, &quot;root&quot;, &quot;&quot;);

            var sql = Ext.MySql.Sql.Builder.Append(@&quot;DROP TABLE IF EXISTS example;
                               CREATE TABLE IF NOT EXISTS example (
                                 id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
                                 data VARCHAR(100),
                                 data_other INT
                               );&quot;);

            var r = new System.Random();
            for (var i = 0; i &lt; 10; i++)
            {
                var rInt = r.Next();
                sql.Append(InsertData, &quot;test&quot; + rInt, rInt);
            }
            _mySql.InsertAsync(sql, _mySqlConnection);

            sql = Ext.MySql.Sql.Builder.Append(SelectData);
            _mySql.QueryAsync(sql, _mySqlConnection, list =&gt;
            {
                if (list == null) return;
                var sb = new StringBuilder();
                sb.AppendLine();
                sb.AppendLine(&quot; id\tdata\t\tdata_other&quot;);
                foreach (var entry in list)
                {
                    sb.AppendFormat(&quot; {0}\t{1}\t{2}&quot;, entry[&quot;id&quot;], entry[&quot;data&quot;], entry[&quot;data_other&quot;]);
                    sb.AppendLine();
                }
                Puts(sb.ToString());
            });
        }
    }
}</pre>
</div>PS: the QueryAsync currently throws an error if called right after the InsertAsync...will be fixed with the next snapshot
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Nogrod</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106601" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 8, 2015 at 1:39 PM">Jul 8, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106601" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106601/permalink">#4</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-106676" class="message   " data-author="SweetLouHD">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="SweetLouHD" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">SweetLouHD</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					take a look at this resource as well. it is not oxide specific so you will need to modify the declarations a little, but should lead you down the right path.<br />
<br />
<a href="http://dev.mysql.com/doc/connector-net/en/connector-net-programming-prepared-preparing.html" target="_blank" class="externalLink  rel="nofollow">http://dev.mysql.com/doc/connector-net/en/connector-net-programming-prepared-preparing.html</a>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">SweetLouHD</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106676" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 8, 2015 at 7:02 PM">Jul 8, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106676" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106676/permalink">#5</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-106743" class="message   " data-author="thomasfn">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="thomasfn" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">thomasfn</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Ideally you should avoid constructing SQL statements whatsoever. This could be a limitation of the MySQL extension or Mono, but using DataAdatper with DataTable or DataSet means you can insert/update/select data through managed APIs without ever building a single SQL statement. Escaping strings etc is taken care of by .Net so you&#039;re going to get the best security and performance.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">thomasfn</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106743" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 8, 2015 at 10:51 PM">Jul 8, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-106743" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/106743/permalink">#6</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-237749" class="message   " data-author="Caffeine">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Caffeine" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Caffeine</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					You want to issue the sql statement &quot;START TRANSACTION&quot; before you do your mass inserts/deletes/updates the reason is because typical inserts write to the disk per one, which as you can imagine is slow for slow harddrives, and doing transactions disables the per write. After you&#039;ve finished issuing all your inserts then do &quot;COMMIT&quot;. This will write all at once and makes mass inserts tremendously fast! I did a test with thousands of inserts and it dropped the time from seconds to low milliseconds...
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Caffeine</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-237749" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 2, 2016 at 6:23 PM">Aug 2, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-237749" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/237749/permalink">#7</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-237763" class="message   " data-author="sqroot">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="sqroot" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">sqroot</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Caffeine">
	<aside>
		
			<div class="attribution type">Caffeine said:
				
					<a href="goto/post?id=237749#post-237749" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">You want to issue the sql statement &quot;START TRANSACTION&quot; before you do your mass inserts/deletes/updates the reason is because typical inserts write to the disk per one, which as you can imagine is slow for slow harddrives, and doing transactions disables the per write. After you&#039;ve finished issuing all your inserts then do &quot;COMMIT&quot;. This will write all at once and makes mass inserts tremendously fast! I did a test with thousands of inserts and it dropped the time from seconds to low milliseconds...</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>I&#039;m pretty sure the MySQL connector does cache, the cache is probably just too small for thousands of large queries.<br />
For small insert bulks however using transactions assures database integrity.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">sqroot</a>,</span>
					<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-237763" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 2, 2016 at 7:06 PM">Aug 2, 2016</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/mysql-multi-value-insert-using-prepared-statements.10058/#post-237763" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/237763/permalink">#8</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
		
	</ol>

	

	

</form>


	<div class="pageNavLinkGroup">
		
			
				<div class="linkGroup">
					
				</div>
			
			<div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>

			
		
	</div>












	


												
												
					
			
						
			
						
			


			<footer>
				


<div class="footer">
		<div class="pageContent">
			
            
            
            </div>
			
		
			
			
			<span class="helper"></span>
			<ul class="footerLinks">
			
				
				<li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
				
				
				<li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
			
			</ul>
			
			<span class="helper"></span>
		</div>
</div>

			</footer>
		</div>
	</div>
</div>

<header>
	


<div id="header">
	<div class="headerWidth">
		<div id="logoBlock">
			
			
			<div id="logo"><a href="https://oxidemod.org/">
				<span></span>
				<img src="styles/oxide/logo.png" alt="Oxide" />
			</a></div>
			
			
			<span class="helper"></span>

</div>
		


<div id="navigation" class="">
	<div class="pageContent">
		<nav>
			<div class="navTabs">
				<ul class="publicTabs">

					
					

					
					

					
					
						<li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
							<a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>

							
						</li>
					

					<li class="navTab PopupClosed">
	<a href="https://umod.org/documentation" class="navLink">Docs</a>
</li>


					
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>

							
						</li>
						
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>

							
						</li>
						
					
					

					
					

					
					

					
					<li class="navTab selected"><div class="tabLinks"></div></li>
				</ul>

				
				
			</div>

			<span class="helper"></span>
		</nav>
	</div>
</div>
	</div>
</div>

	
	
</header>

</div>

<script>


jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1548554596,
		today: 1548547200,
		todayDow: 0
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(255, 255, 255)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"thread_view":true,"message":true,"bb_code":true,"message_user_info":true},
	_cookieConfig: { path: "/", domain: ".oxidemod.org", prefix: "ih_xfid_"},
	_csrfToken: "",
	_csrfRefreshUrl: "login/csrf-token-refresh",
	_jsVersion: "f33b43a2"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});




</script>




</body>
</html>