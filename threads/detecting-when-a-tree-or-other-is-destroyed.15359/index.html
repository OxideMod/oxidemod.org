<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Detecting when a tree (or other) is destroyed?</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Detecting when a tree (or other) is destroyed?" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/">Detecting when a tree (or other) is destroyed?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">lethal_d0se</a>, <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/"><span class="DateTime" title="Feb 2, 2016 at 4:52 PM">Feb
                2, 2016</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-172032" class="message" data-author="lethal_d0se">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="lethal_d0se" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">lethal_d0se</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Hey,<br />
                        <br /> I&#039;ve been scratching my head and searching the forums, but cannot find what I&#039;m looking for. As the thread title suggests, is there a specific method called
                        when a resource, such as a Tree or other node is destroyed.<br />
                        <br /> I&#039;ve had a look at OnEntityDeath and can&#039;t see how that relates, I&#039;ve also had a look at OnDispenserGather and not sure how I&#039;d check for the last
                        drop before the node is removed as an alternative.<br />
                        <br /> Info about what I&#039;m trying to do, I&#039;m giving a small amount of money for resource harvesting. I&#039;m aware of another plugin that does the same, however
                        I&#039;m specifically looking to do so when a node is removed.<br />
                        <br /> Thanks for reading. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">lethal_d0se</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 4:52 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/172032/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172043" class="message" data-author="Quenn1599">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Quenn1599" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Quenn1599</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">ResourceDispenser.fractionRemaining == 0 is my best guess<br /> [DOUBLEPOST=1454435074][/DOUBLEPOST]Although to
                        implement it would prob be like this:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>private void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            if (dispenser.fractionRemaining == 0)
            {
                //It is probably ded
            }
        }</pre>
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Quenn1599</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172043" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 5:42 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172043" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172043/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172048" class="message" data-author="lethal_d0se">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="lethal_d0se" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">lethal_d0se</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Quenn1599">
                            <aside>
                                <div class="attribution type">Quenn1599 said: <a href="#post-172043" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">ResourceDispenser.fractionRemaining == 0 is my best guess<br /> [DOUBLEPOST=1454435074][/DOUBLEPOST]Although to implement it would prob be like
                                        this:<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            <pre>private void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            if (dispenser.fractionRemaining == 0)
            {
                //It is probably ded
            }
        }</pre>
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I would&#039;ve liked this to work, but unfortunately not. I&#039;ll keep trying. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">lethal_d0se</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172048" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 6:04 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172048" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172048/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172088" class="message staff" data-author="Calytic">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a href="members/calytic.58712/" class="avatar Avm" data-avatarhtml="true"><img src="data/avatars/m/58/58712.jpg?1463423255" width="96" height="96" alt="Calytic" /></a>
                </div>
                <h3 class="userText">
                    <a href="members/calytic.58712/" class="username" dir="auto" itemprop="name">Calytic</a>
                    <em class="userBanner bannerRed wrapped" itemprop="title"><span class="before"></span><strong>Community Admin</strong><span class="after"></span></em>
                    <em class="userBanner bannerGreen wrapped" itemprop="title"><span class="before"></span><strong>Community Mod</strong><span class="after"></span></em>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">Technically trees are entities. OnEntityDeath is what you need. If that doesn&#039;t work I don&#039;t know what
                        to tell you. =) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a href="members/calytic.58712/" class="username author" dir="auto">Calytic</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172088" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 7:15 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172088" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172088/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172092" class="message" data-author="lethal_d0se">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="lethal_d0se" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">lethal_d0se</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Calytic">
                            <aside>
                                <div class="attribution type">Calytic said: <a href="#post-172088" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Technically trees are entities. OnEntityDeath is what you need. If that doesn&#039;t work I don&#039;t know what to tell you. =)</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Thanks, I&#039;ll have another look ok into it. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">lethal_d0se</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172092" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 7:18 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172092" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172092/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172147" class="message" data-author="Mughisi">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Mughisi" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Mughisi</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">OnEntityDeath won&#039;t be triggered when a tree or another resource dispenser is destroyed because they are
                        handled differently by the server. The most reliable way to capture the destroy event of a tree or another dispenser would be by checking the remaining fraction as mentioned
                        above, the only thing you need to keep in mind when checking the remaining fraction is that if you want the actual value you need to calculate this yourself. This is because
                        the hook is actually triggered before the remaining fraction is updated.<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>using System.Linq;namespace Oxide.Plugins
{
    [Info(&quot;Tests&quot;, &quot;Mughisi&quot;, 1.0)]
    class Tests : RustPlugin
    {
        private void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            if (IsEmpty(dispenser)) Puts($&quot;The {dispenser} is empty and has been destroyed.&quot;);
        }        private bool IsEmpty(ResourceDispenser dispenser)
        {
            return dispenser.containedItems.Sum((ItemAmount x) =&gt; x.amount)/
                   dispenser.containedItems.Sum((ItemAmount x) =&gt; x.startAmount) &lt;= 0f;
        }
    }
}</pre>
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172147" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 8:35 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172147" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172147/permalink">#6</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172153" class="message" data-author="lethal_d0se">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="lethal_d0se" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">lethal_d0se</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Mughisi">
                            <aside>
                                <div class="attribution type">Mughisi said: <a href="#post-172147" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">OnEntityDeath won&#039;t be triggered when a tree or another resource dispenser is destroyed because they are handled differently by the server.
                                        The most reliable way to capture the destroy event of a tree or another dispenser would be by checking the remaining fraction as mentioned above, the only thing
                                        you need to keep in mind when checking the remaining fraction is that if you want the actual value you need to calculate this yourself. This is because the hook
                                        is actually triggered before the remaining fraction is updated.<br />
                                        <br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            <pre>using System.Linq;namespace Oxide.Plugins
{
    [Info(&quot;Tests&quot;, &quot;Mughisi&quot;, 1.0)]
    class Tests : RustPlugin
    {
        private void OnDispenserGather(ResourceDispenser dispenser, BaseEntity entity, Item item)
        {
            if (IsEmpty(dispenser)) Puts($&quot;The {dispenser} is empty and has been destroyed.&quot;);
        }        private bool IsEmpty(ResourceDispenser dispenser)
        {
            return dispenser.containedItems.Sum((ItemAmount x) =&gt; x.amount)/
                   dispenser.containedItems.Sum((ItemAmount x) =&gt; x.startAmount) &lt;= 0f;
        }
    }
}</pre>
                                        </div>
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Thanks for your response, I really appreciate it. <br />
                        <br /> I was working towards, taking the resulting fraction reduction from the first hit and calculating how many hits remained by dividing the whole by the reduction. <br />
                        <br /> Thinking about it, it&#039;s not very efficient. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">lethal_d0se</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172153" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 8:47 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172153" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172153/permalink">#7</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-172183" class="message" data-author="Tuntenfisch">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Tuntenfisch" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Tuntenfisch</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="lethal_d0se">
                            <aside>
                                <div class="attribution type">lethal_d0se said: <a href="#post-172153" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Thanks for your response, I really appreciate it.<br />
                                        <br /> I was working towards, taking the resulting fraction reduction from the first hit and calculating how many hits remained by dividing the whole by the
                                        reduction.<br />
                                        <br /> Thinking about it, it&#039;s not very efficient.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Actually I do think there is another way:<br />
                        <br /> Let&#039;s take a look at the <b>TreeEntity class</b> inside the <b>Assembly-CSharp.dll</b>. Specifically at this bit of code:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>public override void OnAttacked(HitInfo info)
{
    if (base.isServer)
    {
        if (this.resourceDispenser != null)
        {
            this.resourceDispenser.OnAttacked(info);
        }
        if (!info.DidGather)
        {
            if (this.protection)
            {
                this.protection.Scale(info.damageTypes);
            }
            float single = info.damageTypes.Total();
            TreeEntity treeEntity = this;
            treeEntity.health = treeEntity.health - single;
            if (this.health &lt;= 0f)
            {
                base.Kill(BaseNetworkable.DestroyMode.None);
                return;
            }
        }
    }
}</pre>
                        </div>The last if statement seems to be responsible for destroying the tree, so let&#039;s check out how exactly the tree is destroyed by looking at the
                        <i>Kill(BaseNetworkable.DestroyMode mode = 0)</i> function:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>public void Kill(BaseNetworkable.DestroyMode mode = 0)
{
    if (this.isDestroyed)
    {
        Debug.LogWarning(string.Concat(&quot;Calling kill - but already IsDestroyed!? &quot;, this));
        return;
    }
    base.BroadcastMessage(&quot;OnParentDestroying&quot;, SendMessageOptions.DontRequireReceiver);
    this.Term(mode);
    this.OnDestroy();
    Object.Destroy(base.gameObject);
}</pre>
                        </div>If you are familiar with Unity, you might know what the following function call does:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>base.BroadcastMessage(&quot;OnParentDestroying&quot;, SendMessageOptions.DontRequireReceiver);</pre>
                        </div>In short, it does the following:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>public void BroadcastMessage(string methodName, SendMessageOptions options);</pre>
                        </div>Calls the method named <i>methodName</i> on every <a href="http://docs.unity3d.com/ScriptReference/MonoBehaviour.html" target="_blank" class="externalLink  rel="
                            nofollow"><i>MonoBehaviour</i></a> in this game object or any of its children.<br /> (source: <a
                            href="http://docs.unity3d.com/ScriptReference/Component.BroadcastMessage.html" target="_blank" class="externalLink  rel=" nofollow">Unity - Scripting API:</a>)<br />
                        <br /> So what if we could attach a custom <i>MonoBehaviour</i> class with a function called <i>OnParentDestroying(...) </i>that does whatever we want.<br /> We should actually
                        be able to do just that with the following Oixde hook:<br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>void OnEntitySpawned(BaseNetworkable entity)
{
    // filter out the entities that you want and attach your custom MonoBehaviour class to it
}</pre>
                        </div>I&#039;m not completely sure if this works but it&#039;s worth a try. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="editDate">Last edited by a moderator: <span class="DateTime" title="Feb 2, 2016 at 10:29 PM">Feb 2, 2016</span>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Tuntenfisch</a>,</span>
                        <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172183" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Feb 2, 2016 at 10:22 PM">Feb 2, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/detecting-when-a-tree-or-other-is-destroyed.15359/#post-172183" title="Permalink"
                        class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/172183/permalink">#8</a>
                </div>
            </div>
        </div>
    </li>
</ol>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
