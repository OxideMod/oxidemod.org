<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="https://oxidemod.org/" />
    <script> var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
    <title>Solved - Checking when a player opens inventory? | Oxide</title>
    <noscript>
        <style>.JsOnly, .jsOnly { display: none !important; }</style>
    </noscript>
    <link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548544754" />
    <link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548544754" />
    <script src="js/jquery/jquery-1.11.0.min.js"></script>
    <script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
    <link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
    <link rel="canonical" href="https://oxidemod.org/threads/checking-when-a-player-opens-inventory.11071/" />
    <meta name="description" content="Hey ! I would like to know if it's possible to know when the player open her inventory. Thanks you.

Edit: Sorry, i've found a solution with the forum..." />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
    <meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://oxidemod.org/threads/checking-when-a-player-opens-inventory.11071/" />
    <meta property="og:title" content="Solved - Checking when a player opens inventory?" />
    <meta property="og:description" content="Hey ! I would like to know if it's possible to know when the player open her inventory. Thanks you.

Edit: Sorry, i've found a solution with the forum..." />
</head>

<body class="node4 node1 node104 node105 SelectQuotable">
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="thread_view">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop ">
                        <nav>
                            <fieldset class="breadcrumb">
                                <div class="boardTitle"><strong>Oxide</strong></div>
                                <span class="crumbs">
                                    <span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                                        <a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
                                        <span class="arrow"><span>&gt;</span></span>
                                    </span>
                                    <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                                        <a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
                                        <span class="arrow"><span>&gt;</span></span>
                                    </span>
                                    <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                                        <a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
                                        <span class="arrow"><span>&gt;</span></span>
                                    </span>
                                    <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                                        <a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
                                        <span class="arrow"><span>&gt;</span></span>
                                    </span>
                                    <span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
                                        <a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
                                        <span class="arrow"><span>&gt;</span></span>
                                    </span>
                                </span>
                            </fieldset>
                        </nav>
                    </div>
                    <!-- h1 title, description -->
                    <div class="titleBar">
                        <h1>
                            <span class="prefix prefixGreen">Solved</span> <a href="https://oxidemod.org/threads/checking-when-a-player-opens-inventory.11071/">Checking when a player opens inventory?</a>
                        </h1>
                        <p id="pageDescription" class="muted "> Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">UnderFawkes</a>, <a
                                href="threads/checking-when-a-player-opens-inventory.11071/"><span class="DateTime" title="Aug 13, 2015 at 8:40 AM">Aug 13, 2015</span></a>. </p>
                    </div>
                    <div class="pageNavLinkGroup">
                        <div class="linkGroup SelectionCountContainer">
                        </div>
                    </div>
                    <form action="inline-mod/post/switch" method="post" class="InlineModForm section" data-cookieName="posts" data-controls="#InlineModControls" data-imodOptions="#ModerationSelect option">
                        <ol class="messageList" id="messageList">
                            <li id="post-119504" class="message   " data-author="UnderFawkes">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="UnderFawkes" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">UnderFawkes</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Hey ! I would like to know if it&#039;s possible to know when the player open her
                                                inventory. Thanks you.<br />
                                                <br /> Edit: Sorry, i&#039;ve found a solution with the forum search. Thanks. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="editDate"> Last edited by a moderator: <span class="DateTime" title="Aug 13, 2015 at 4:27 PM">Aug 13, 2015</span>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">UnderFawkes</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 13, 2015 at 8:40 AM">Aug
                                                        13, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/119504/permalink">#1</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-119512" class="message   " data-author="PaiN">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="PaiN" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">PaiN</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeCode">
                                                    <div class="type">Code:</div>
                                                    <pre>
input.IsDown(BUTTON.INVENTORY);
</pre>
                                                </div>or<br />
                                                <div class="bbCodeBlock bbCodeCode">
                                                    <div class="type">Code:</div>
                                                    <pre>
input.WasJustPressed(BUTTON.INVENTORY)
</pre>
                                                </div>Wrong section. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">PaiN</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119512" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 13, 2015 at 9:07 AM">Aug
                                                        13, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119512" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/119512/permalink">#2</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-119513" class="message   " data-author="UnderFawkes">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="UnderFawkes" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">UnderFawkes</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Sorry for Wrong section. I don&#039;t see where i can move my thread. And Thanks for
                                                your reply.<br /> [DOUBLEPOST=1439481697,1439453521][/DOUBLEPOST]With this method, i don&#039;t know when the player close her inventory, if he use
                                                ESCAPE or other.. It&#039;s not the good solution. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">UnderFawkes</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119513" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 13, 2015 at 5:01 PM">Aug
                                                        13, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119513" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/119513/permalink">#3</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-119660" class="message   " data-author="deer_SWAG">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="deer_SWAG" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">deer_SWAG</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="UnderFawkes">
                                                    <aside>
                                                        <div class="attribution type">UnderFawkes said: <a href="goto/post?id=119513#post-119513" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">It&#039;s not the good solution.</div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>I think there is no other solution. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">deer_SWAG</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119660" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 13, 2015 at 5:28 PM">Aug
                                                        13, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-119660" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/119660/permalink">#4</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-122687" class="message   " data-author="LaserHydra">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="LaserHydra" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">LaserHydra</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="deer_SWAG">
                                                    <aside>
                                                        <div class="attribution type">deer_SWAG said: <a href="goto/post?id=119660#post-119660" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">I think there is no other solution.</div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>yup, I used that possibillity for my Crosshair plugin, and I did not find another way to do this. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122687" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 23, 2015 at 2:00 AM">Aug
                                                        23, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122687" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/122687/permalink">#5</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-122692" class="message   " data-author="Mughisi">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mughisi" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">Mughisi</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="UnderFawkes">
                                                    <aside>
                                                        <div class="attribution type">UnderFawkes said: <a href="goto/post?id=119513#post-119513" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">Sorry for Wrong section. I don&#039;t see where i can move my thread. And Thanks for your reply.<br />
                                                                [DOUBLEPOST=1439481697,1439453521][/DOUBLEPOST]With this method, i don&#039;t know when the player close her inventory, if he use
                                                                ESCAPE or other.. It&#039;s not the good solution.</div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>
                                                <div class="bbCodeBlock bbCodeQuote" data-author="deer_SWAG">
                                                    <aside>
                                                        <div class="attribution type">deer_SWAG said: <a href="goto/post?id=119660#post-119660" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">I think there is no other solution.</div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>You&#039;ll have to capture opening the inventory with the OnPlayerInput hook listening for the key, then you can use OnTick to check that player
                                                if he is still looting (example below). The main issue that it can&#039;t be handled with a hook is because the server only manages the contents of the
                                                inventory, opening and closing it is only done on the client.<br />
                                                <br />
                                                <div class="bbCodeBlock bbCodeCode">
                                                    <div class="type">Code:</div>
                                                    <pre>private void OnTick()
{
    foreach (var player in BasePlayer.activePlayerList) // Just as example of course, should be replaced by a specific player list as you don't want to loop every player here.
    {
        if (!player.inventory.loot.IsLooting())
        {
            // Inventory closed
        }
    }
}</pre>
                                                </div>
                                                <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">Mughisi</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122692" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 23, 2015 at 2:19 AM">Aug
                                                        23, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122692" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/122692/permalink">#6</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-122719" class="message   " data-author="LaserHydra">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="LaserHydra" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">LaserHydra</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="Mughisi">
                                                    <aside>
                                                        <div class="attribution type">Mughisi said: <a href="goto/post?id=122692#post-122692" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">You&#039;ll have to capture opening the inventory with the OnPlayerInput hook listening for the key, then you can use
                                                                OnTick to check that player if he is still looting (example below). The main issue that it can&#039;t be handled with a hook is because
                                                                the server only manages the contents of the inventory, opening and closing it is only done on the client.<br />
                                                                <br />
                                                                <div class="bbCodeBlock bbCodeCode">
                                                                    <div class="type">Code:</div>
                                                                    <pre>private void OnTick()
{
    foreach (var player in BasePlayer.activePlayerList) // Just as example of course, should be replaced by a specific player list as you don't want to loop every player here.
    {
        if (!player.inventory.loot.IsLooting())
        {
            // Inventory closed
        }
    }
}</pre>
                                                                </div>
                                                            </div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>Didnt think about that. Thanks. Gonna add that to my plugin. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122719" title="Permalink" class="datePermalink"><span class="DateTime" title="Aug 23, 2015 at 5:21 AM">Aug
                                                        23, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-122719" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/122719/permalink">#7</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-133602" class="message   " data-author="LaserHydra">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="LaserHydra" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">LaserHydra</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="Mughisi">
                                                    <aside>
                                                        <div class="attribution type">Mughisi said: <a href="goto/post?id=122692#post-122692" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">You&#039;ll have to capture opening the inventory with the OnPlayerInput hook listening for the key, then you can use
                                                                OnTick to check that player if he is still looting (example below). The main issue that it can&#039;t be handled with a hook is because
                                                                the server only manages the contents of the inventory, opening and closing it is only done on the client.<br />
                                                                <br />
                                                                <div class="bbCodeBlock bbCodeCode">
                                                                    <div class="type">Code:</div>
                                                                    <pre>private void OnTick()
{
    foreach (var player in BasePlayer.activePlayerList) // Just as example of course, should be replaced by a specific player list as you don't want to loop every player here.
    {
        if (!player.inventory.loot.IsLooting())
        {
            // Inventory closed
        }
    }
}</pre>
                                                                </div>
                                                            </div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>IsLooting only works with other entities, like corpses sleepers etc. Not with the own inventory. <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-133602" title="Permalink" class="datePermalink"><span class="DateTime" title="Oct 3, 2015 at 5:19 PM">Oct
                                                        3, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-133602" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/133602/permalink">#8</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-134108" class="message   " data-author="Reneb">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Reneb" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">Reneb</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Using OnTick should be really used to the minimum ^^ <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">Reneb</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-134108" title="Permalink" class="datePermalink"><span class="DateTime" title="Oct 5, 2015 at 9:56 AM">Oct
                                                        5, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-134108" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/134108/permalink">#9</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li id="post-134113" class="message   " data-author="LaserHydra">
                                <div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">
                                    <div class="messageUserBlock ">
                                        <div class="avatarHolder">
                                            <span class="helper"></span>
                                            <a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="LaserHydra" /></a>
                                        </div>
                                        <h3 class="userText">
                                            <a class="username" dir="auto">LaserHydra</a>
                                        </h3>
                                        <span class="arrow"><span></span></span>
                                    </div>
                                </div>
                                <div class="messageInfo primaryContent">
                                    <div class="messageContent">
                                        <article>
                                            <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                                                <div class="bbCodeBlock bbCodeQuote" data-author="Reneb">
                                                    <aside>
                                                        <div class="attribution type">Reneb said: <a href="goto/post?id=134108#post-134108" class="AttributionLink">&uarr;</a>
                                                        </div>
                                                        <blockquote class="quoteContainer">
                                                            <div class="quote">Using OnTick should be really used to the minimum ^^</div>
                                                            <div class="quoteExpand">Click to expand...</div>
                                                        </blockquote>
                                                    </aside>
                                                </div>Any idea on how to detect if a player has his inventory opened? <div class="messageTextEndMarker">&nbsp;</div>
                                            </blockquote>
                                        </article>
                                    </div>
                                    <div class="messageMeta ToggleTriggerAnchor">
                                        <div class="privateControls">
                                            <span class="item muted">
                                                <span class="authorEnd"><a class="username author" dir="auto">LaserHydra</a>,</span>
                                                <a href="threads/checking-when-a-player-opens-inventory.11071/#post-134113" title="Permalink" class="datePermalink"><span class="DateTime" title="Oct 5, 2015 at 10:45 AM">Oct
                                                        5, 2015</span></a>
                                            </span>
                                        </div>
                                        <div class="publicControls">
                                            <a href="threads/checking-when-a-player-opens-inventory.11071/#post-134113" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                                                data-href="posts/134113/permalink">#10</a>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ol>
                    </form>
                    <div class="pageNavLinkGroup">
                        <div class="linkGroup">
                        </div>
                        <div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>
                    </div>
                    <footer>
                        <div class="footer">
                            <div class="pageContent">
                            </div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                </div>
                </footer>
            </div>
        </div>
    </div>
    <header>
        <div id="header">
            <div class="headerWidth">
                <div id="logoBlock">
                    <div id="logo"><a href="https://oxidemod.org/">
                            <span></span>
                            <img src="styles/oxide/logo.png" alt="Oxide" />
                        </a></div>
                    <span class="helper"></span>
                </div>
                <div id="navigation" class="">
                    <div class="pageContent">
                        <nav>
                            <div class="navTabs">
                                <ul class="publicTabs">
                                    <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                        <a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>
                                    </li>
                                    <li class="navTab PopupClosed">
                                        <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                    </li>
                                    <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                        <a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>
                                    </li>
                                    <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                        <a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>
                                    </li>
                                    <li class="navTab selected">
                                        <div class="tabLinks"></div>
                                    </li>
                                </ul>
                            </div>
                            <span class="helper"></span>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548598372,
                today: 1548547200,
                todayDow: 0
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "thread_view": true,
                "message": true,
                "bb_code": true,
                "message_user_info": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "ih_xfid_"
            },
            _csrfToken: "",
            _csrfRefreshUrl: "login/csrf-token-refresh",
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });

    </script>
</body>

</html>
