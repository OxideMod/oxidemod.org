<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Referencing another plugin? | Page 2</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Referencing another plugin? | Page 2" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <a href="/threads/referencing-another-plugin.22449/">Referencing another plugin?</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">Nathan
            3</a>, <a href="/threads/referencing-another-plugin.22449/"><span class="DateTime" title="Dec 12, 2016 at 5:58 PM">Dec 12, 2016</span></a>.
    </p>
</div>
<div class="pageNavLinkGroup">
    <div class="linkGroup SelectionCountContainer">
    </div>
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="" data-baseurl="threads/referencing-another-plugin.22449/page-">
        <nav>
            <a href="/threads/referencing-another-plugin.22449/" class="text">&lt; Prev</a>
            <a href="/threads/referencing-another-plugin.22449/" class="" rel="start">1</a>
            <a href="/threads/referencing-another-plugin.22449/page-2" class="currentPage ">2</a>
        </nav>
    </div>
</div>
<ol class="messageList" id="messageList">
    <li id="post-276294" class="message" data-author="VVoid">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="VVoid" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">VVoid</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Nathan 3">
                            <aside>
                                <div class="attribution type">Nathan 3 said: <a href="#post-276293" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ahhh so when someone gathers the server allocates that variable for that user that is calling the hook, right?</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Exactly. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">VVoid</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276294" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 1:33 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276294" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276294/permalink">#21</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276296" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="VVoid">
                            <aside>
                                <div class="attribution type">VVoid said: <a href="#post-276294" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Exactly.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Ahhh nice! How come Wekrat said I would need <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>private Dictionary&lt;BasePlayer,int&gt; gatherTracking= new Dictionary&lt;BasePlayer,int&gt;();</pre>
                        </div>to prevent multiple users getting the message so if I gathered twice and someone else once we would both get the message, If the server is single-threaded like you said
                        surely that would not be needed or maybe i&#039;m misunderstanding the mechanics? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276296" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 1:38 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276296" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276296/permalink">#22</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276331" class="message" data-author="Shady757">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Shady757" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Shady757</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Nathan 3">
                            <aside>
                                <div class="attribution type">Nathan 3 said: <a href="#post-276296" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">Ahhh nice! How come Wekrat said I would need<br />
                                        <div class="bbCodeBlock bbCodeCode">
                                            <div class="type">Code:</div>
                                            <pre>private Dictionary&lt;BasePlayer,int&gt; gatherTracking= new Dictionary&lt;BasePlayer,int&gt;();</pre>
                                        </div>to prevent multiple users getting the message so if I gathered twice and someone else once we would both get the message, If the server is single-threaded
                                        like you said surely that would not be needed or maybe i&#039;m misunderstanding the mechanics?
                                    </div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I didn&#039;t read all of the past posts, but from what I can see, this is to keep it triggering every 3 times for a specific player, not 3 times when any person hits it.
                        (e.g. one player hits it twice, a second player hits it once and gets it) <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Shady757</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276331" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 6:13 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276331" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276331/permalink">#23</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276335" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Shady757">
                            <aside>
                                <div class="attribution type">Shady757 said: <a href="#post-276331" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">I didn&#039;t read all of the past posts, but from what I can see, this is to keep it triggering every 3 times for a specific player, not 3 times
                                        when any person hits it. (e.g. one player hits it twice, a second player hits it once and gets it)</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>I still don&#039;t see how that would stop it, I just see the tracker being used for the counter part which is just informational text?<br />
                        <br /> I thought <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>double money = (double)Economics?.CallHook(&quot;GetPlayerMoney&quot;, entity.ToPlayer().userID);</pre>
                        </div> would give the money to the entity.ToPlayer().userID which VVoid said the way the server works the hook is not shared so the person gathering resources would get the
                        money and not the other player that hits once? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276335" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 6:27 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276335" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276335/permalink">#24</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276359" class="message" data-author="Werkrat">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Werkrat" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Werkrat</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> The hook is called every time someone gathers. Assuming counter is global in your original code, it would count
                        every time anyone gathers, then trigger on the 3rd call. If counter isn&#039;t defined anywhere, the code will just be broken and not work at all.<br />
                        <br /> What I did was create individual tracking for each player who gathers, check it and increment it with each gather for THAT player, so it achieves what you were going
                        for. It&#039;s global so the dictionary is able to keep track. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Werkrat</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276359" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:11 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276359" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276359/permalink">#25</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276363" class="message" data-author="Nathan 3">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Nathan 3" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nathan 3</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml">
                        <div class="bbCodeBlock bbCodeQuote" data-author="Werkrat">
                            <aside>
                                <div class="attribution type">Werkrat said: <a href="#post-276359" class="AttributionLink">&uarr;</a>
                                </div>
                                <blockquote class="quoteContainer">
                                    <div class="quote">The hook is called every time someone gathers. Assuming counter is global in your original code, it would count every time anyone gathers, then
                                        trigger on the 3rd call. If counter isn&#039;t defined anywhere, the code will just be broken and not work at all.<br />
                                        <br /> What I did was create individual tracking for each player who gathers, check it and increment it with each gather for THAT player, so it achieves what
                                        you were going for. It&#039;s global so the dictionary is able to keep track.</div>
                                    <div class="quoteExpand">Click to expand...</div>
                                </blockquote>
                            </aside>
                        </div>Ahhh that makes sense, So just assigning counter in OnGatherDispenser makes it become global? I am learning scope at the minute so I will come back to this thread and it
                        will make more sense. <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nathan 3</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276363" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:17 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276363" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276363/permalink">#26</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-276364" class="message" data-author="Werkrat">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Werkrat" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Werkrat</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Declare is outside the hook, that&#039;s why I put it separate in my example code <img
                            src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie2" alt=";)" title="Wink    ;)" />
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Werkrat</a>,</span>
                        <a href="/threads/referencing-another-plugin.22449/page-2#post-276364" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Dec 13, 2016 at 9:19 PM">Dec 13, 2016</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/referencing-another-plugin.22449/page-2#post-276364" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/276364/permalink">#27</a>
                </div>
            </div>
        </div>
    </li>
</ol>
<div class="pageNavLinkGroup">
    <div class="PageNav" data-page="2" data-range="2" data-start="2" data-end="2" data-last="2" data-sentinel="" data-baseurl="threads/referencing-another-plugin.22449/page-">
        <nav>
            <a href="/threads/referencing-another-plugin.22449/" class="text">&lt; Prev</a>
            <a href="/threads/referencing-another-plugin.22449/" class="" rel="start">1</a>
            <a href="/threads/referencing-another-plugin.22449/page-2" class="currentPage ">2</a>
        </nav>
    </div>
</div>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
