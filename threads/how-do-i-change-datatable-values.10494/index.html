<!DOCTYPE html>
<html id="XenForo" lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar  Responsive" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
	
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	
	
		<base href="https://oxidemod.org/" />
		<script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://oxidemod.org/";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
	

	<title>How do I change datatable values? | Oxide</title>
	
	<noscript><style>.JsOnly, .jsOnly { display: none !important; }</style></noscript>
	<link rel="stylesheet" href="css.php?css=xenforo,form,public&amp;style=5&amp;dir=LTR&amp;d=1548612011" />
	<link rel="stylesheet" href="css.php?css=bb_code,message,message_user_info,thread_view&amp;style=5&amp;dir=LTR&amp;d=1548612011" />
	
	

	
		<script src="js/jquery/jquery-1.11.0.min.js"></script>	
		
	<script src="js/xenforo/xenforo.js?_v=f33b43a2"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<meta name="mobile-web-app-capable" content="yes" />
<link rel="icon" sizes="196x196" href="https://oxidemod.org/styles/oxide/logo.og.png" />
<link rel="apple-touch-icon" href="https://oxidemod.org/styles/oxide/logo.og.png" />
	<link rel="alternate" type="application/rss+xml" title="RSS feed for Oxide" href="forums/-/index.rss" />
		
	
	<link rel="canonical" href="https://oxidemod.org/threads/how-do-i-change-datatable-values.10494/" />
	<meta name="description" content="Hey, i have absolutely no idea how to use data files..
i already went through http://docs.oxidemod.org/rust/?csharp#creating-a-data-table, but how do i..." />	<meta property="og:site_name" content="Oxide" />
	<meta property="og:image" content="https://oxidemod.org/styles/default/xenforo/avatars/avatar_m.png" />
	<meta property="og:image" content="https://oxidemod.org/styles/oxide/logo.og.png" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://oxidemod.org/threads/how-do-i-change-datatable-values.10494/" />
	<meta property="og:title" content="How do I change datatable values?" />
	<meta property="og:description" content="Hey, i have absolutely no idea how to use data files..
i already went through http://docs.oxidemod.org/rust/?csharp#creating-a-data-table, but how do i..." />
	
	
	

</head>

<body class="node4 node1 node104 node105 SelectQuotable">




<div id="headerMover">
	<div id="headerProxy"></div>

<div id="content" class="thread_view">
	<div class="pageWidth">
		<div class="pageContent">
			
			
			

			

			
			
				<div class="breadBoxTop ">
					
					

<nav>
	
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	

	<fieldset class="breadcrumb">			
		<div class="boardTitle"><strong>Oxide</strong></div>
		
		<span class="crumbs">
			
				

					
						<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
							<a href="https://oxidemod.org/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Forums</span></a>
							<span class="arrow"><span>&gt;</span></span>
						</span>
					

					
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/#oxide-project.1" class="crumb" rel="up" itemprop="url"><span itemprop="title">Oxide Project</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/archive.104/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Archive</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/categories/plugin-development.105/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Plugin Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
							<span class="crust" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
								<a href="https://oxidemod.org/forums/rust-development.4/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Rust Development</span></a>
								<span class="arrow"><span>&gt;</span></span>
							</span>
						
					
				
			
		</span>
	</fieldset>
</nav>
				</div>
			
			
	
			



			
				

						
			
			
			
						
						
													
								<!-- h1 title, description -->
								<div class="titleBar">
									
									<h1>
										
											
												<a href="https://oxidemod.org/threads/how-do-i-change-datatable-values.10494/">How do I change datatable values?</a>
											
										
									</h1>

									<p id="pageDescription" class="muted ">
	Discussion in '<a href="forums/rust-development.4/">Rust Development</a>' started by <a class="username" dir="auto">Mike #GetRekt</a>, <a href="threads/how-do-i-change-datatable-values.10494/"><span class="DateTime" title="Jul 24, 2015 at 11:02 PM">Jul 24, 2015</span></a>.
</p>
								</div>
							
						
						
						
						

						

	

























	




<div class="pageNavLinkGroup">
	<div class="linkGroup SelectionCountContainer">
		
		
	</div>

	
</div>






<form action="inline-mod/post/switch" method="post"
	class="InlineModForm section"
	data-cookieName="posts"
	data-controls="#InlineModControls"
	data-imodOptions="#ModerationSelect option">

	<ol class="messageList" id="messageList">
		
			
				


<li id="post-111949" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Hey, i have absolutely no idea how to use data files..<br />
i already went through <a href="http://docs.oxidemod.org/rust/?csharp#creating-a-data-table" target="_blank" class="externalLink  rel="nofollow">http://docs.oxidemod.org/rust/?csharp#creating-a-data-table</a>, but how do i change values etc.?<br />
I would be very glad if someone could give me a quick introduction to data-tables <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 24, 2015 at 11:02 PM">Jul 24, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/111949/permalink">#1</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-111963" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					The storeddata is a class, you can add and remove variables in it and just access it..
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-111963" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 12:36 AM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-111963" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/111963/permalink">#2</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112149" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>using System.Collections.Generic;
using Oxide.Core;

namespace Oxide.Plugins
{
    [Info(&quot;Money&quot;, &quot;xCreez&quot;, 1.0)]
    [Description(&quot;This example illustrates how to save to a data file.&quot;)]
    class Money : RustPlugin
    {
        class StoredData
        {
            public HashSet&lt;MoneyInfo&gt; MoneyDatabase = new HashSet&lt;MoneyInfo&gt;();

            public StoredData()
            {
            }
        }

        class MoneyInfo
        {
            public string UserId;
            public string Name;
            public int Money;

            public MoneyInfo(BasePlayer player)
            {
                UserId = player.userID.ToString();
                Name = player.displayName;
                Money = 1000;
            }
        }

        StoredData storedData;

        private void Loaded()
        {
            storedData = Interface.GetMod().DataFileSystem.ReadObject&lt;StoredData&gt;(&quot;Money&quot;);
        }

        [ChatCommand(&quot;Test&quot;)]
        private void Test(BasePlayer player, string command, string[] args)
        {
            var info = new MoneyInfo(player);
            Puts(storedData.MoneyDatabase.ToString());
            if (storedData.MoneyDatabase.Contains(info))
            {
                PrintToChat(player, &quot;Your data has already been added to the file.&quot;);
            }
            else
            {
                PrintToChat(player, &quot;Saving your data to the file.&quot;);
                storedData.MoneyDatabase.Add(info);
                Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);
            }
        }
    }
}</pre>
</div>Why is that saving new data everytime i use /Test ?
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112149" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 5:25 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112149" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112149/permalink">#3</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112170" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					this line:<br />
<br />
Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);<br />
<br />
Saves the file.... if you do not want to save everytime, just do storedData.MoneyDatabase.Add(info);...<br />
<br />
Note that if you do not save and the server restarts, the data will be lost! If you do not save for every operation you should at least have a timer that saves on a regular basis.<br />
[DOUBLEPOST=1437843836][/DOUBLEPOST]Wait I take that back... The function as it is creates a new MoneyInfo every execution, so the part where it says &quot;Your data has already been added&quot; will never ever be reached. You&#039;d need to check for a unique thing in MoneyInfo vs the ones in the MoneyDatabase list.
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112170" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 6:01 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112170" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112170/permalink">#4</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112198" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I dont know what exactly you mean :/
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112198" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 7:05 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112198" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112198/permalink">#5</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112202" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					<div class="bbCodeBlock bbCodeQuote" data-author="Mike #GetRekt">
	<aside>
		
			<div class="attribution type">Mike #GetRekt said:
				
					<a href="goto/post?id=112198#post-112198" class="AttributionLink">&uarr;</a>
				
			</div>
		
		<blockquote class="quoteContainer"><div class="quote">I dont know what exactly you mean :/</div><div class="quoteExpand">Click to expand...</div></blockquote>
	</aside>
</div>Sorry was on phone and didn&#039;t feel like writing a novel, I&#039;m on the computer now. Basically, that example you started from is just that, an example, it&#039;s not functional. Let me expand on this.<br />
<br />
First problem is that example uses a Hashset... I have no idea why everyone keeps using those, they are about the most useless &quot;collection&quot; type structure in .NET and have a very specific use, one which is not needed in this example here. In the context of that example they should be using a Dictionary and use either the BasePlayer structure as a key, or better yet the SteamID.<br />
<br />
The second problem, which I hinted at in my first reply, is that the &quot;test&quot; function does not do what it suggests it&#039;s doing... The .Contains function looks for a Reference and the &quot;info&quot; structure that is passed to that function was just freshly created (new MoneyInfo). There is literally never, ever a time when entering that function that &quot;Contains&quot; can return true. The proper code would be something like:<br />
<br />
if (storedData.MoneyDatabase.Any(mi =&gt; mi.UserId == player.userID.ToString()))<br />
<br />
This statement will return true if a MoneyInfo has already been added to the MoneyDatabase for that player.<br />
<br />
Last but not least, one would expect that the goal of the Test function would be for example to add money to the player account. Creating a new MoneyInfo structure right at the start of the function is not necessary, the function should first try to retrieve the current player balance and add to it instead of creating a new one each time.<br />
<br />
Here&#039;s a re-write of the example which makes a whole lot more sense:<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>using System.Collections.Generic;
using Oxide.Core;

namespace Oxide.Plugins
{
    [Info(&quot;Money&quot;, &quot;Re-write by Deicide666ra (original version: xCreez)&quot;, 1.1)]
    [Description(&quot;This example illustrates how to save to a data file.&quot;)]
    class Money : RustPlugin
    {
        class StoredData
        {
            public Dictionary&lt;ulong, MoneyInfo&gt; MoneyDatabase = new Dictionary&lt;ulong, MoneyInfo&gt;();
        }

        class MoneyInfo
        {
            public string UserId;
            public string Name;
            public int Money;

            public MoneyInfo(BasePlayer player)
            {
                UserId = player.userID.ToString();
                Name = player.displayName;
                Money = 1000;
            }
        }

        StoredData storedData;

        private void Loaded()
        {
            storedData = Interface.GetMod().DataFileSystem.ReadObject&lt;StoredData&gt;(&quot;Money&quot;);
        }

        [ChatCommand(&quot;CreateAccount&quot;)]
        private void CreateAccount(BasePlayer player, string command, string[] args)
        {
            MoneyInfo playerBalance = null;
            if (storedData.MoneyDatabase.TryGetValue(player.userID, out playerBalance) == false)
            {
                // no info on that player found, init new balance for him
                playerBalance = new MoneyInfo(player);

                // add it to the database
                storedData.MoneyDatabase.Add(player.userID, playerBalance);

                // save the new player to disk
                PrintToChat(player, &quot;Saving your data to the file.&quot;);
                Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);
            }
            else
            {
                PrintToChat(player, &quot;Your data has already been added to the file.&quot;);
            }
        }

        [ChatCommand(&quot;AddMoney&quot;)]
        private void AddMoney(BasePlayer player, string command, string[] args)
        {
            if (args.Length != 1)
            {
                PrintToChat(player, &quot;Error! Usage: /AddMoney amount  (ex: /AddMoney 1000 to add 1000 credits)&quot;);
                return;
            }

            MoneyInfo playerBalance = null;
            if (storedData.MoneyDatabase.TryGetValue(player.userID, out playerBalance) == false)
            {
                PrintToChat(player, &quot;This player has no account! Use /CreateAccount first!&quot;);
                return;
            }

            int amount = 0;
            if (int.TryParse(args[0], out amount) == false || amount == 0)
            {
                PrintToChat(player, &quot;Could not determin amount, amount could not be parsed or is zero!&quot;);
                return;
            }

            // Apply the amount (can be negative, not not fractional)
            playerBalance.Money += amount;

            // save the new player to disk
            PrintToChat(player, &quot;Saving your data to the file.&quot;);
            Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);
        }
    }
}</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
			<div class="editDate">
			
				Last edited by a moderator: <span class="DateTime" title="Jul 25, 2015 at 7:57 PM">Jul 25, 2015</span>
			
			</div>
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112202" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 7:28 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112202" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112202/permalink">#6</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112208" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Thanks for the re-write, but it gives me an error when i reload the plugin after saving an Account and it won&#039;t let me AddMoney because it says  &quot;Could not determin amount, amount could not be parsed or is zero!&quot; even if the amount is &gt; 0
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112208" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 7:43 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112208" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112208/permalink">#7</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112210" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Didn&#039;t test it sorry, change that check line to this, I messed up <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" /><br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>if (int.TryParse(args[0], out amount) == false || amount == 0)</pre>
</div>[DOUBLEPOST=1437850650][/DOUBLEPOST]Edit: Fixed the code in the other reply <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112210" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 7:56 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112210" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112210/permalink">#8</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112212" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					That fixes the error while adding Money but after saving a Account to the Database it gives me an error if i reload the plugin <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie9" alt=":eek:" title="Eek!    :eek:" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112212" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 8:00 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112212" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112212/permalink">#9</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112214" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					What error? I have a mod that uses a Dictionary like that do I don&#039;t see how that would be an issue... Gimme the error <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112214" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 8:08 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112214" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112214/permalink">#10</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112232" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					There you go:<br />
<img src="proxy.php?image=http%3A%2F%2Fi.epvpimg.com%2FsfGpe.png&amp;hash=a8857d3718e77fac7d7573827b6c6fda" class="bbCodeImage LbImage" alt="[&#x200B;IMG]" data-url="http://i.epvpimg.com/sfGpe.png" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112232" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 8:29 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112232" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112232/permalink">#11</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112238" class="message   " data-author="Deicide666ra">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Deicide666ra" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Deicide666ra</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					Not sure but I think it&#039;s probably the MoneyInfo class that needs an empty constructor, try this:<br />
<br />


<div class="bbCodeBlock bbCodeCode">
	<div class="type">Code:</div>
	<pre>using System.Collections.Generic;
using Oxide.Core;

namespace Oxide.Plugins
{
    [Info(&quot;Money&quot;, &quot;Re-write by Deicide666ra (original version: xCreez)&quot;, 1.1)]
    [Description(&quot;This example illustrates how to save to a data file.&quot;)]
    class Money : RustPlugin
    {
        class StoredData
        {
            public Dictionary&lt;ulong, MoneyInfo&gt; MoneyDatabase = new Dictionary&lt;ulong, MoneyInfo&gt;();
        }

        class MoneyInfo
        {
            public string UserId;
            public string Name;
            public int Money;

            public MoneyInfo() { }

            public MoneyInfo(BasePlayer player)
            {
                UserId = player.userID.ToString();
                Name = player.displayName;
                Money = 1000;
            }
        }

        StoredData storedData;

        private void Loaded()
        {
            storedData = Interface.GetMod().DataFileSystem.ReadObject&lt;StoredData&gt;(&quot;Money&quot;);
        }

        [ChatCommand(&quot;CreateAccount&quot;)]
        private void CreateAccount(BasePlayer player, string command, string[] args)
        {
            MoneyInfo playerBalance = null;
            if (storedData.MoneyDatabase.TryGetValue(player.userID, out playerBalance) == false)
            {
                // no info on that player found, init new balance for him
                playerBalance = new MoneyInfo(player);

                // add it to the database
                storedData.MoneyDatabase.Add(player.userID, playerBalance);

                // save the new player to disk
                PrintToChat(player, &quot;Saving your data to the file.&quot;);
                Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);
            }
            else
            {
                PrintToChat(player, &quot;Your data has already been added to the file.&quot;);
            }
        }

        [ChatCommand(&quot;AddMoney&quot;)]
        private void AddMoney(BasePlayer player, string command, string[] args)
        {
            if (args.Length != 1)
            {
                PrintToChat(player, &quot;Error! Usage: /AddMoney amount  (ex: /AddMoney 1000 to add 1000 credits)&quot;);
                return;
            }

            MoneyInfo playerBalance = null;
            if (storedData.MoneyDatabase.TryGetValue(player.userID, out playerBalance) == false)
            {
                PrintToChat(player, &quot;This player has no account! Use /CreateAccount first!&quot;);
                return;
            }

            int amount = 0;
            if (int.TryParse(args[0], out amount) == false || amount == 0)
            {
                PrintToChat(player, &quot;Could not determin amount, amount could not be parsed or is zero!&quot;);
                return;
            }

            // Apply the amount (can be negative, not not fractional)
            playerBalance.Money += amount;

            // save the new player to disk
            PrintToChat(player, &quot;Saving your data to the file.&quot;);
            Interface.GetMod().DataFileSystem.WriteObject(&quot;Money&quot;, storedData);
        }
    }
}</pre>
</div>
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112238" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 8:37 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112238" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112238/permalink">#12</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
			
				


<li id="post-112267" class="message   " data-author="Mike #GetRekt">

	

<div class="messageUserInfo" itemscope="itemscope" itemtype="http://data-vocabulary.org/Person">	
<div class="messageUserBlock ">
	
		<div class="avatarHolder">
			<span class="helper"></span>
			<a class="avatar Avm" data-avatarhtml="true"><img src="styles/default/xenforo/avatars/avatar_m.png" width="96" height="96" alt="Mike #GetRekt" /></a>
			
			
		</div>
	


	
		<h3 class="userText">
			<a class="username" dir="auto">Mike #GetRekt</a>
			
			
		</h3>
	
		
	
		


	<span class="arrow"><span></span></span>
</div>
</div>

	<div class="messageInfo primaryContent">
		
		
		
		
		
		<div class="messageContent">		
			<article>
				<blockquote class="messageText SelectQuoteContainer ugc baseHtml">
					
					I seriously love you <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie8" alt=":D" title="Big Grin    :D" /><br />
Works like a charm, thank you very much <img src="styles/default/xenforo/clear.png" class="mceSmilieSprite mceSmilie1" alt=":)" title="Smile    :)" />
					<div class="messageTextEndMarker">&nbsp;</div>
				</blockquote>
			</article>
			
			
		</div>
		
		
		
		
		
		
		
				
		<div class="messageMeta ToggleTriggerAnchor">
			
			<div class="privateControls">
				
				<span class="item muted">
					<span class="authorEnd"><a class="username author" dir="auto">Mike #GetRekt</a>,</span>
					<a href="threads/how-do-i-change-datatable-values.10494/#post-112267" title="Permalink" class="datePermalink"><span class="DateTime" title="Jul 25, 2015 at 9:43 PM">Jul 25, 2015</span></a>
				</span>
				
				
				
				
				
				
				
				
				
				
				
			</div>
			
			<div class="publicControls">
				<a href="threads/how-do-i-change-datatable-values.10494/#post-112267" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger" data-href="posts/112267/permalink">#13</a>
				
				
				
				
			</div>
		</div>
	</div>

	
	
	
	
</li>
			
		
		
	</ol>

	

	

</form>


	<div class="pageNavLinkGroup">
		
			
				<div class="linkGroup">
					
				</div>
			
			<div class="linkGroup" style="display: none"><a href="javascript:" class="muted JsOnly DisplayIgnoredContent Tooltip" title="Show hidden content by ">Show Ignored Content</a></div>

			
		
	</div>












	


												
												
					
			
						
			
						
			


			<footer>
				


<div class="footer">
		<div class="pageContent">
			
            
            
            </div>
			
		
			
			
			<span class="helper"></span>
			<ul class="footerLinks">
			
				
				<li><a href="https://oxidemod.org/terms/">Terms and Rules</a></li>
				
				
				<li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
			
			</ul>
			
			<span class="helper"></span>
		</div>
</div>

			</footer>
		</div>
	</div>
</div>

<header>
	


<div id="header">
	<div class="headerWidth">
		<div id="logoBlock">
			
			
			<div id="logo"><a href="https://oxidemod.org/">
				<span></span>
				<img src="styles/oxide/logo.png" alt="Oxide" />
			</a></div>
			
			
			<span class="helper"></span>

</div>
		


<div id="navigation" class="">
	<div class="pageContent">
		<nav>
			<div class="navTabs">
				<ul class="publicTabs">

					
					

					
					

					
					
						<li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
							<a href="https://oxidemod.org/" class="navLink" rel="Menu">Forums</a>

							
						</li>
					

					<li class="navTab PopupClosed">
	<a href="https://umod.org/documentation" class="navLink">Docs</a>
</li>


					
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/downloads/" class="navLink" rel="Menu"> Downloads </a>

							
						</li>
						
					
						
							<li class="navTab Popup PopupControl PopupClosed PopupContainerControl">

							<a href="https://oxidemod.org/plugins/" class="navLink" rel="Menu"> Plugins </a>

							
						</li>
						
					
					

					
					

					
					

					
					<li class="navTab selected"><div class="tabLinks"></div></li>
				</ul>

				
				
			</div>

			<span class="helper"></span>
		</nav>
	</div>
</div>
	</div>
</div>

	
	
</header>

</div>

<script>


jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1548658649,
		today: 1548633600,
		todayDow: 1
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(255, 255, 255)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"thread_view":true,"message":true,"bb_code":true,"message_user_info":true},
	_cookieConfig: { path: "/", domain: ".oxidemod.org", prefix: "ih_xfid_"},
	_csrfToken: "",
	_csrfRefreshUrl: "login/csrf-token-refresh",
	_jsVersion: "f33b43a2"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});




</script>




</body>
</html>