<!DOCTYPE html>
<html lang="en-US" dir="LTR" class="Public NoJs LoggedOut NoSidebar Responsive">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="" />
    <title>Oxide - Solved - Raycast issues</title>
    <noscript>
        <style>
            .JsOnly,
            .jsOnly {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="/assets/js/jquery/jquery-1.11.0.min.js"></script>
    <script src="/assets/js/xenforo/xenforo.js?_v=f33b43a2"></script>
    <link rel="canonical" href="" />
    <link rel="stylesheet" href="/assets/default.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" />
    <link rel="icon" sizes="196x196" href="/assets/styles/oxide/logo.og.png" />
    <link rel="apple-touch-icon" href="/assets/styles/oxide/logo.og.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="description" content="Oxide is an abstracted, modular, and extensible mod and plugin framework for any game that uses .NET" />
    <meta property="og:site_name" content="Oxide" />
    <meta property="og:image" content="/assets/styles/oxide/logo.og.png" />
    <meta property="og:url" content="" />
    <meta property="og:title" content="Oxide - Solved - Raycast issues" />
    <meta property="og:description" content="" />
</head>
<body>
    <div id="headerMover">
        <div id="headerProxy"></div>
        <div id="content" class="forum_list">
            <div class="pageWidth">
                <div class="pageContent">
                    <div class="breadBoxTop">
    <nav>
        <fieldset class="breadcrumb">
            <div class="boardTitle"><strong>Oxide</strong></div>
            <span class="crumbs">
                <span class="crust">
                    <a href="/" class="crumb" rel="up" itemprop="url">
                        <span itemprop="title">Forums</span>
                    </a>
                    <span class="arrow"></span>
                </span>
                
                    
                    <span class="crust">
                        <a href="/forums/plugin-development.105/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Plugin Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
                    
                    <span class="crust">
                        <a href="/forums/rust-development.4/" class="crumb" rel="up" itemprop="url">
                            <span itemprop="title">Rust Development</span>
                        </a>
                        <span class="arrow"></span>
                    </span>
                    
                
            </span>
        </fieldset>
    </nav>
</div>

<div class="titleBar">
    <h1>
        <span class="prefix prefixGreen">Solved</span> <a href="/threads/raycast-issues.12127/">Raycast issues</a>
    </h1>
    <p id="pageDescription" class="muted">Discussion in '<a href="/forums/rust-development.4/">Rust Development</a>' started by <a class="username"
            dir="auto">Deicide666ra</a>, <a href="/threads/raycast-issues.12127/"><span class="DateTime" title="Oct 6, 2015 at 2:34 AM">Oct 6, 2015</span></a>.
    </p>
</div>
<ol class="messageList" id="messageList">
    <li id="post-134294" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Alright so I&#039;ve been having intermittent issues with my LadderAnywhere plugin that I&#039;d like to fix. I
                        pretty much copy-pasted the code from &#039;Build&#039; to do raycast and whenever I raycast I of course get a list of different objects and then look for the one that is the
                        closest to the raycast source. Most of the time this works, but at other times, it just catches something else that&#039;s behind it.<br />
                        <br /> What could be causing this? Is there a way to prevent this? I&#039;ve seen similar issues with build itself as well as SIL, so I assume it&#039;s a raycast limitation or
                        bug or feature... Has anyone found a way to reliably find what a user is pointing at?<br />
                        <br /> I&#039;m using it to block certain items like high walls and such and it this is when I get the most issues, the player will point a door or normal wall on the base but
                        the raycast just goes right through the whole base and catches a high wall behind it. I&#039;ve seen several cases of the ladder actually placing right through a wall and into
                        the room after it and such non sense, but the most common issues is players not able to place one at all because it catches a blacklisted item way beyond.......<br />
                        <br /> Any help would be appreciated, you can look at my code maybe in LadderAnywhere and see if I messed up.. I just don&#039;t know how to tackle this. <div
                            class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="/threads/raycast-issues.12127/" title="Permalink" class="datePermalink"><span class="DateTime" title="Oct 6, 2015 at 2:34 AM">Oct 6,
                                2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/raycast-issues.12127/" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/134294/permalink">#1</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-134431" class="message" data-author="Nick Holmes">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Nick Holmes" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nick Holmes</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Physics.RayCast() has a number of overloads - I&#039;ve been using one that takes directly a Ray, and been
                        feeding in player.eyes.HeadRay, where eyes is of type PlayerEyes - a quick look at that class seems to show HeadRay is not calc&#039;d the same way as you have done. Maybe
                        that&#039;s intentional on your part, or maybe the end result is the same (sorry, can&#039;t test it at the moment), but perhaps the issue is that your Ray is not going exactly
                        where you think you are looking? <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nick Holmes</a>,</span>
                        <a href="/threads/raycast-issues.12127/#post-134431" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 6, 2015 at 3:02 PM">Oct 6, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/raycast-issues.12127/#post-134431" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/134431/permalink">#2</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-134441" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Thanks, to be honest I have little comprehension on what I&#039;m doing, last time I did 3d geometry was back in
                        college more than 20 years ago, rusty doesn&#039;t even apply anymore. I just skipped the comprehension part and figured I&#039;d steal code from an existing mod, namely Build
                        by Reneb.<br />
                        <br /> I&#039;ll try what you propose and see what comes of it, thanks! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="/threads/raycast-issues.12127/#post-134441" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 6, 2015 at 3:32 PM">Oct 6, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/raycast-issues.12127/#post-134441" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/134441/permalink">#3</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-134478" class="message" data-author="Nick Holmes">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Nick Holmes" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Nick Holmes</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Here&#039;s what&#039;s working for me, where I want a player to designate which box to put his tax loot
                        in:<br />
                        <br />
                        <div class="bbCodeBlock bbCodeCode">
                            <div class="type">Code:</div>
                            <pre>
RaycastHit hit;
if (Physics.Raycast(player.eyes.HeadRay(), out hit, rayLength))
    targetBox = hit.transform.GetComponentInParent&lt;StorageContainer&gt;();if (targetBox != null &amp;&amp; targetBox.GetType() == typeof(StorageContainer))
{ ... }
</pre>
                        </div>
                        <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Nick Holmes</a>,</span>
                        <a href="/threads/raycast-issues.12127/#post-134478" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 6, 2015 at 5:07 PM">Oct 6, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/raycast-issues.12127/#post-134478" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/134478/permalink">#4</a>
                </div>
            </div>
        </div>
    </li>
    <li id="post-134939" class="message" data-author="Deicide666ra">
        <div class="messageUserInfo">
            <div class="messageUserBlock">
                <div class="avatarHolder">
                    <span class="helper"></span>
                    <a class="avatar Avm" data-avatarhtml="true"><img src="/assets/styles/oxide/logo.og.png" width="96" height="96" alt="Deicide666ra" /></a>
                </div>
                <h3 class="userText">
                    <a class="username" dir="auto">Deicide666ra</a>
                </h3>
                <span class="arrow"></span>
            </div>
        </div>
        <div class="messageInfo primaryContent">
            <div class="messageContent">
                <article>
                    <blockquote class="messageText SelectQuoteContainer ugc baseHtml"> Looks like it worked, thanks Nick! <div class="messageTextEndMarker">&nbsp;</div>
                    </blockquote>
                </article>
            </div>
            <div class="messageMeta ToggleTriggerAnchor">
                <div class="privateControls">
                    <span class="item muted">
                        <span class="authorEnd"><a class="username author" dir="auto">Deicide666ra</a>,</span>
                        <a href="/threads/raycast-issues.12127/#post-134939" title="Permalink" class="datePermalink"><span class="DateTime"
                                title="Oct 8, 2015 at 5:10 AM">Oct 8, 2015</span></a>
                    </span>
                </div>
                <div class="publicControls">
                    <a href="/threads/raycast-issues.12127/#post-134939" title="Permalink" class="item muted postNumber hashPermalink OverlayTrigger"
                        data-href="posts/134939/permalink">#5</a>
                </div>
            </div>
        </div>
    </li>
</ol>


                    <footer>
                        <div class="footer">
                            <div class="pageContent"></div>
                            <div id="copyright"><span class="concealed">Built: Wed, 27 Mar 2019 21:25:21 -0400</span></div>
                            <span class="helper"></span>
                            <ul class="footerLinks">
                                <li><a href="/terms/">Terms and Rules</a></li>
                                <li><a href="https://umod.org/community" target="_blank">Contact Us</a></li>
                            </ul>
                            <span class="helper"></span>
                        </div>
                    </footer>
                </div>
            </div>
        </div>
        <header>
            <div id="header">
                <div class="headerWidth">
                    <div id="logoBlock">
                        <div id="logo"><a href="/">
                                <span></span>
                                <img src="/assets/styles/oxide/logo.png" alt="Oxide" />
                            </a></div>
                        <span class="helper"></span>
                    </div>
                    <div id="navigation" class="">
                        <div class="pageContent">
                            <nav>
                                <div class="navTabs">
                                    <ul class="publicTabs">
                                        <li class="navTab forums Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/" class="navLink" rel="Menu">Forums</a>
                                        </li>
                                        <li class="navTab PopupClosed">
                                            <a href="https://umod.org/documentation" class="navLink">Docs</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/downloads/" class="navLink" rel="Menu">Downloads</a>
                                        </li>
                                        <li class="navTab Popup PopupControl PopupClosed PopupContainerControl">
                                            <a href="/plugins/" class="navLink" rel="Menu">Plugins</a>
                                        </li>
                                        <li class="navTab selected">
                                            <div class="tabLinks"></div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="helper"></span>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>
    <script>
        jQuery.extend(true, XenForo, {
            visitor: {
                user_id: 0
            },
            serverTimeInfo: {
                now: 1548531785,
                today: 1548460800,
                todayDow: 6
            },
            _lightBoxUniversal: "0",
            _enableOverlays: "1",
            _animationSpeedMultiplier: "1",
            _overlayConfig: {
                top: "10%",
                speed: 200,
                closeSpeed: 100,
                mask: {
                    color: "rgb(255, 255, 255)",
                    opacity: "0.6",
                    loadSpeed: 200,
                    closeSpeed: 100
                }
            },
            _ignoredUsers: [],
            _loadedScripts: {
                "node_list": true,
                "node_category": true,
                "node_forum": true,
                "discussion_list": true,
                "wf_default": true
            },
            _cookieConfig: {
                path: "/",
                domain: ".oxidemod.org",
                prefix: "xfid_"
            },
            _jsVersion: "f33b43a2"
        });
        jQuery.extend(XenForo.phrases, {
            cancel: "Cancel",
            a_moment_ago: "A moment ago",
            one_minute_ago: "1 minute ago",
            x_minutes_ago: "%minutes% minutes ago",
            today_at_x: "Today at %time%",
            yesterday_at_x: "Yesterday at %time%",
            day_x_at_time_y: "%day% at %time%",
            day0: "Sunday",
            day1: "Monday",
            day2: "Tuesday",
            day3: "Wednesday",
            day4: "Thursday",
            day5: "Friday",
            day6: "Saturday",
            _months: "January,February,March,April,May,June,July,August,September,October,November,December",
            _daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",
            following_error_occurred: "The following error occurred",
            server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
            logging_in: "Logging in",
            click_image_show_full_size_version: "Click this image to show the full-size version.",
            show_hidden_content_by_x: "Show hidden content by {names}"
        });
    </script>
</body>
</html>
